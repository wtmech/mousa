/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.keys(envPathObject);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name);                    const envName = envKey                        ? envPathObject[envKey].name                        : envPathObject[parameter.Name]?.name;                    process.env[envName] = parameter.Value;                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => envPathObject[invalidParam].sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var du=Object.create;var Cr=Object.defineProperty;var hu=Object.getOwnPropertyDescriptor;var mu=Object.getOwnPropertyNames;var fu=Object.getPrototypeOf,yu=Object.prototype.hasOwnProperty;var vu=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Pu=(t,e)=>()=>(t&&(e=t(t=0)),e);var T=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ko=(t,e)=>{for(var r in e)Cr(t,r,{get:e[r],enumerable:!0})},gu=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of mu(e))!yu.call(t,s)&&s!==r&&Cr(t,s,{get:()=>e[s],enumerable:!(o=hu(e,s))||o.enumerable});return t};var Tu=(t,e,r)=>(r=t!=null?du(fu(t)):{},gu(e||!t||!t.__esModule?Cr(r,"default",{value:t,enumerable:!0}):r,t));import{createRequire as Su}from"node:module";import _u from"node:path";import Eu from"node:url";var n=Pu(()=>{global.require=Su(import.meta.url);global.__filename=Eu.fileURLToPath(import.meta.url);global.__dirname=_u.dirname(__filename)});var ae=T((bh,Lo)=>{"use strict";n();Lo.exports=TypeError});var Ho=T((Rh,Uo)=>{n();Uo.exports=vu("util").inspect});var Ze=T((Ch,ln)=>{n();var jr=typeof Map=="function"&&Map.prototype,Nr=Object.getOwnPropertyDescriptor&&jr?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ft=jr&&Nr&&typeof Nr.get=="function"?Nr.get:null,$o=jr&&Map.prototype.forEach,Vr=typeof Set=="function"&&Set.prototype,Fr=Object.getOwnPropertyDescriptor&&Vr?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Lt=Vr&&Fr&&typeof Fr.get=="function"?Fr.get:null,Bo=Vr&&Set.prototype.forEach,bu=typeof WeakMap=="function"&&WeakMap.prototype,Qe=bu?WeakMap.prototype.has:null,wu=typeof WeakSet=="function"&&WeakSet.prototype,Ye=wu?WeakSet.prototype.has:null,Ru=typeof WeakRef=="function"&&WeakRef.prototype,zo=Ru?WeakRef.prototype.deref:null,Au=Boolean.prototype.valueOf,Cu=Object.prototype.toString,Mu=Function.prototype.toString,Iu=String.prototype.match,Kr=String.prototype.slice,ee=String.prototype.replace,Gu=String.prototype.toUpperCase,Wo=String.prototype.toLowerCase,en=RegExp.prototype.test,jo=Array.prototype.concat,$=Array.prototype.join,Du=Array.prototype.slice,Vo=Math.floor,Hr=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Lr=Object.getOwnPropertySymbols,$r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,xe=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Xe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===xe||!0)?Symbol.toStringTag:null,tn=Object.prototype.propertyIsEnumerable,Ko=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Jo(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||en.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var o=t<0?-Vo(-t):Vo(t);if(o!==t){var s=String(o),a=Kr.call(e,s.length+1);return ee.call(s,r,"$&_")+"."+ee.call(ee.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ee.call(e,r,"$&_")}var Br=Ho(),Qo=Br.custom,Yo=nn(Qo)?Qo:null,rn={__proto__:null,double:'"',single:"'"},qu={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};ln.exports=function t(e,r,o,s){var a=r||{};if(J(a,"quoteStyle")&&!J(rn,a.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(J(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=J(a,"customInspect")?a.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(J(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(J(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var p=a.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return an(e,a);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return p?Jo(e,c):c}if(typeof e=="bigint"){var m=String(e)+"n";return p?Jo(e,m):m}var u=typeof a.depth>"u"?5:a.depth;if(typeof o>"u"&&(o=0),o>=u&&u>0&&typeof e=="object")return zr(e)?"[Array]":"[Object]";var h=Zu(a,o);if(typeof s>"u")s=[];else if(sn(s,e)>=0)return"[Circular]";function d(L,Y,K){if(Y&&(s=Du.call(s),s.push(Y)),K){var Be={depth:a.depth};return J(a,"quoteStyle")&&(Be.quoteStyle=a.quoteStyle),t(L,Be,o+1,s)}return t(L,a,o+1,s)}if(typeof e=="function"&&!Xo(e)){var y=zu(e),f=Nt(e,d);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(f.length>0?" { "+$.call(f,", ")+" }":"")}if(nn(e)){var P=xe?ee.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):$r.call(e);return typeof e=="object"&&!xe?Je(P):P}if(Qu(e)){for(var g="<"+Wo.call(String(e.nodeName)),S=e.attributes||[],O=0;O<S.length;O++)g+=" "+S[O].name+"="+on(ku(S[O].value),"double",a);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+Wo.call(String(e.nodeName))+">",g}if(zr(e)){if(e.length===0)return"[]";var v=Nt(e,d);return h&&!Xu(v)?"["+Wr(v,h)+"]":"[ "+$.call(v,", ")+" ]"}if(Fu(e)){var E=Nt(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!tn.call(e,"cause")?"{ ["+String(e)+"] "+$.call(jo.call("[cause]: "+d(e.cause),E),", ")+" }":E.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+$.call(E,", ")+" }"}if(typeof e=="object"&&l){if(Yo&&typeof e[Yo]=="function"&&Br)return Br(e,{depth:u-o});if(l!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Wu(e)){var G=[];return $o&&$o.call(e,function(L,Y){G.push(d(Y,e,!0)+" => "+d(L,e))}),Zo("Map",Ft.call(e),G,h)}if(Ku(e)){var Q=[];return Bo&&Bo.call(e,function(L){Q.push(d(L,e))}),Zo("Set",Lt.call(e),Q,h)}if(ju(e))return Ur("WeakMap");if(Ju(e))return Ur("WeakSet");if(Vu(e))return Ur("WeakRef");if(Uu(e))return Je(d(Number(e)));if($u(e))return Je(d(Hr.call(e)));if(Hu(e))return Je(Au.call(e));if(Lu(e))return Je(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!Nu(e)&&!Xo(e)){var q=Nt(e,d),F=Ko?Ko(e)===Object.prototype:e instanceof Object||e.constructor===Object,N=e instanceof Object?"":"null prototype",C=!F&&Xe&&Object(e)===e&&Xe in e?Kr.call(te(e),8,-1):N?"Object":"",Pe=F||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",ge=Pe+(C||N?"["+$.call(jo.call([],C||[],N||[]),": ")+"] ":"");return q.length===0?ge+"{}":h?ge+"{"+Wr(q,h)+"}":ge+"{ "+$.call(q,", ")+" }"}return String(e)};function on(t,e,r){var o=r.quoteStyle||e,s=rn[o];return s+t+s}function ku(t){return ee.call(String(t),/"/g,"&quot;")}function le(t){return!Xe||!(typeof t=="object"&&(Xe in t||typeof t[Xe]<"u"))}function zr(t){return te(t)==="[object Array]"&&le(t)}function Nu(t){return te(t)==="[object Date]"&&le(t)}function Xo(t){return te(t)==="[object RegExp]"&&le(t)}function Fu(t){return te(t)==="[object Error]"&&le(t)}function Lu(t){return te(t)==="[object String]"&&le(t)}function Uu(t){return te(t)==="[object Number]"&&le(t)}function Hu(t){return te(t)==="[object Boolean]"&&le(t)}function nn(t){if(xe)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!$r)return!1;try{return $r.call(t),!0}catch{}return!1}function $u(t){if(!t||typeof t!="object"||!Hr)return!1;try{return Hr.call(t),!0}catch{}return!1}var Bu=Object.prototype.hasOwnProperty||function(t){return t in this};function J(t,e){return Bu.call(t,e)}function te(t){return Cu.call(t)}function zu(t){if(t.name)return t.name;var e=Iu.call(Mu.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function sn(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,o=t.length;r<o;r++)if(t[r]===e)return r;return-1}function Wu(t){if(!Ft||!t||typeof t!="object")return!1;try{Ft.call(t);try{Lt.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function ju(t){if(!Qe||!t||typeof t!="object")return!1;try{Qe.call(t,Qe);try{Ye.call(t,Ye)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Vu(t){if(!zo||!t||typeof t!="object")return!1;try{return zo.call(t),!0}catch{}return!1}function Ku(t){if(!Lt||!t||typeof t!="object")return!1;try{Lt.call(t);try{Ft.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Ju(t){if(!Ye||!t||typeof t!="object")return!1;try{Ye.call(t,Ye);try{Qe.call(t,Qe)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Qu(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function an(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,o="... "+r+" more character"+(r>1?"s":"");return an(Kr.call(t,0,e.maxStringLength),e)+o}var s=qu[e.quoteStyle||"single"];s.lastIndex=0;var a=ee.call(ee.call(t,s,"\\$1"),/[\x00-\x1f]/g,Yu);return on(a,"single",e)}function Yu(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Gu.call(e.toString(16))}function Je(t){return"Object("+t+")"}function Ur(t){return t+" { ? }"}function Zo(t,e,r,o){var s=o?Wr(r,o):$.call(r,", ");return t+" ("+e+") {"+s+"}"}function Xu(t){for(var e=0;e<t.length;e++)if(sn(t[e],`
`)>=0)return!1;return!0}function Zu(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=$.call(Array(t.indent+1)," ");else return null;return{base:r,prev:$.call(Array(e+1),r)}}function Wr(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+$.call(t,","+r)+`
`+e.prev}function Nt(t,e){var r=zr(t),o=[];if(r){o.length=t.length;for(var s=0;s<t.length;s++)o[s]=J(t,s)?e(t[s],t):""}var a=typeof Lr=="function"?Lr(t):[],l;if(xe){l={};for(var p=0;p<a.length;p++)l["$"+a[p]]=a[p]}for(var c in t)J(t,c)&&(r&&String(Number(c))===c&&c<t.length||xe&&l["$"+c]instanceof Symbol||(en.call(/[^\w$]/,c)?o.push(e(c,t)+": "+e(t[c],t)):o.push(c+": "+e(t[c],t))));if(typeof Lr=="function")for(var m=0;m<a.length;m++)tn.call(t,a[m])&&o.push("["+e(a[m])+"]: "+e(t[a[m]],t));return o}});var cn=T((Ih,un)=>{"use strict";n();var ec=Ze(),tc=ae(),Ut=function(t,e,r){for(var o=t,s;(s=o.next)!=null;o=s)if(s.key===e)return o.next=s.next,r||(s.next=t.next,t.next=s),s},rc=function(t,e){if(t){var r=Ut(t,e);return r&&r.value}},oc=function(t,e,r){var o=Ut(t,e);o?o.value=r:t.next={key:e,next:t.next,value:r}},nc=function(t,e){return t?!!Ut(t,e):!1},ic=function(t,e){if(t)return Ut(t,e,!0)};un.exports=function(){var e,r={assert:function(o){if(!r.has(o))throw new tc("Side channel does not contain "+ec(o))},delete:function(o){var s=e&&e.next,a=ic(e,o);return a&&s&&s===a&&(e=void 0),!!a},get:function(o){return rc(e,o)},has:function(o){return nc(e,o)},set:function(o,s){e||(e={next:void 0}),oc(e,o,s)}};return r}});var Jr=T((Dh,pn)=>{"use strict";n();pn.exports=Object});var hn=T((kh,dn)=>{"use strict";n();dn.exports=Error});var fn=T((Fh,mn)=>{"use strict";n();mn.exports=EvalError});var vn=T((Uh,yn)=>{"use strict";n();yn.exports=RangeError});var gn=T(($h,Pn)=>{"use strict";n();Pn.exports=ReferenceError});var Sn=T((zh,Tn)=>{"use strict";n();Tn.exports=SyntaxError});var En=T((jh,_n)=>{"use strict";n();_n.exports=URIError});var On=T((Kh,xn)=>{"use strict";n();xn.exports=Math.abs});var wn=T((Qh,bn)=>{"use strict";n();bn.exports=Math.floor});var An=T((Xh,Rn)=>{"use strict";n();Rn.exports=Math.max});var Mn=T((em,Cn)=>{"use strict";n();Cn.exports=Math.min});var Gn=T((rm,In)=>{"use strict";n();In.exports=Math.pow});var qn=T((nm,Dn)=>{"use strict";n();Dn.exports=Math.round});var Nn=T((sm,kn)=>{"use strict";n();kn.exports=Number.isNaN||function(e){return e!==e}});var Ln=T((lm,Fn)=>{"use strict";n();var sc=Nn();Fn.exports=function(e){return sc(e)||e===0?e:e<0?-1:1}});var Hn=T((cm,Un)=>{"use strict";n();Un.exports=Object.getOwnPropertyDescriptor});var Qr=T((dm,$n)=>{"use strict";n();var Ht=Hn();if(Ht)try{Ht([],"length")}catch{Ht=null}$n.exports=Ht});var zn=T((mm,Bn)=>{"use strict";n();var $t=Object.defineProperty||!1;if($t)try{$t({},"a",{value:1})}catch{$t=!1}Bn.exports=$t});var jn=T((ym,Wn)=>{"use strict";n();Wn.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),o=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var p=Object.getOwnPropertyDescriptor(e,r);if(p.value!==s||p.enumerable!==!0)return!1}return!0}});var Jn=T((Pm,Kn)=>{"use strict";n();var Vn=typeof Symbol<"u"&&Symbol,ac=jn();Kn.exports=function(){return typeof Vn!="function"||typeof Symbol!="function"||typeof Vn("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ac()}});var Yr=T((Tm,Qn)=>{"use strict";n();Qn.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var Xr=T((_m,Yn)=>{"use strict";n();var lc=Jr();Yn.exports=lc.getPrototypeOf||null});var ei=T((xm,Zn)=>{"use strict";n();var uc="Function.prototype.bind called on incompatible ",cc=Object.prototype.toString,pc=Math.max,dc="[object Function]",Xn=function(e,r){for(var o=[],s=0;s<e.length;s+=1)o[s]=e[s];for(var a=0;a<r.length;a+=1)o[a+e.length]=r[a];return o},hc=function(e,r){for(var o=[],s=r||0,a=0;s<e.length;s+=1,a+=1)o[a]=e[s];return o},mc=function(t,e){for(var r="",o=0;o<t.length;o+=1)r+=t[o],o+1<t.length&&(r+=e);return r};Zn.exports=function(e){var r=this;if(typeof r!="function"||cc.apply(r)!==dc)throw new TypeError(uc+r);for(var o=hc(arguments,1),s,a=function(){if(this instanceof s){var u=r.apply(this,Xn(o,arguments));return Object(u)===u?u:this}return r.apply(e,Xn(o,arguments))},l=pc(0,r.length-o.length),p=[],c=0;c<l;c++)p[c]="$"+c;if(s=Function("binder","return function ("+mc(p,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var m=function(){};m.prototype=r.prototype,s.prototype=new m,m.prototype=null}return s}});var et=T((bm,ti)=>{"use strict";n();var fc=ei();ti.exports=Function.prototype.bind||fc});var Bt=T((Rm,ri)=>{"use strict";n();ri.exports=Function.prototype.call});var Zr=T((Cm,oi)=>{"use strict";n();oi.exports=Function.prototype.apply});var ii=T((Im,ni)=>{"use strict";n();ni.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var ai=T((Dm,si)=>{"use strict";n();var yc=et(),vc=Zr(),Pc=Bt(),gc=ii();si.exports=gc||yc.call(Pc,vc)});var eo=T((km,li)=>{"use strict";n();var Tc=et(),Sc=ae(),_c=Bt(),Ec=ai();li.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new Sc("a function is required");return Ec(Tc,_c,e)}});var mi=T((Fm,hi)=>{"use strict";n();var xc=eo(),ui=Qr(),pi;try{pi=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var to=!!pi&&ui&&ui(Object.prototype,"__proto__"),di=Object,ci=di.getPrototypeOf;hi.exports=to&&typeof to.get=="function"?xc([to.get]):typeof ci=="function"?function(e){return ci(e==null?e:di(e))}:!1});var gi=T((Um,Pi)=>{"use strict";n();var fi=Yr(),yi=Xr(),vi=mi();Pi.exports=fi?function(e){return fi(e)}:yi?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return yi(e)}:vi?function(e){return vi(e)}:null});var Si=T(($m,Ti)=>{"use strict";n();var Oc=Function.prototype.call,bc=Object.prototype.hasOwnProperty,wc=et();Ti.exports=wc.call(Oc,bc)});var jt=T((zm,wi)=>{"use strict";n();var _,Rc=Jr(),Ac=hn(),Cc=fn(),Mc=vn(),Ic=gn(),Re=Sn(),we=ae(),Gc=En(),Dc=On(),qc=wn(),kc=An(),Nc=Mn(),Fc=Gn(),Lc=qn(),Uc=Ln(),Oi=Function,ro=function(t){try{return Oi('"use strict"; return ('+t+").constructor;")()}catch{}},tt=Qr(),Hc=zn(),oo=function(){throw new we},$c=tt?function(){try{return arguments.callee,oo}catch{try{return tt(arguments,"callee").get}catch{return oo}}}():oo,Oe=Jn()(),D=gi(),Bc=Xr(),zc=Yr(),bi=Zr(),rt=Bt(),be={},Wc=typeof Uint8Array>"u"||!D?_:D(Uint8Array),ue={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?_:ArrayBuffer,"%ArrayIteratorPrototype%":Oe&&D?D([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":be,"%AsyncGenerator%":be,"%AsyncGeneratorFunction%":be,"%AsyncIteratorPrototype%":be,"%Atomics%":typeof Atomics>"u"?_:Atomics,"%BigInt%":typeof BigInt>"u"?_:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?_:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?_:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ac,"%eval%":eval,"%EvalError%":Cc,"%Float16Array%":typeof Float16Array>"u"?_:Float16Array,"%Float32Array%":typeof Float32Array>"u"?_:Float32Array,"%Float64Array%":typeof Float64Array>"u"?_:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?_:FinalizationRegistry,"%Function%":Oi,"%GeneratorFunction%":be,"%Int8Array%":typeof Int8Array>"u"?_:Int8Array,"%Int16Array%":typeof Int16Array>"u"?_:Int16Array,"%Int32Array%":typeof Int32Array>"u"?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Oe&&D?D(D([][Symbol.iterator]())):_,"%JSON%":typeof JSON=="object"?JSON:_,"%Map%":typeof Map>"u"?_:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Oe||!D?_:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Rc,"%Object.getOwnPropertyDescriptor%":tt,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?_:Promise,"%Proxy%":typeof Proxy>"u"?_:Proxy,"%RangeError%":Mc,"%ReferenceError%":Ic,"%Reflect%":typeof Reflect>"u"?_:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?_:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Oe||!D?_:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Oe&&D?D(""[Symbol.iterator]()):_,"%Symbol%":Oe?Symbol:_,"%SyntaxError%":Re,"%ThrowTypeError%":$c,"%TypedArray%":Wc,"%TypeError%":we,"%Uint8Array%":typeof Uint8Array>"u"?_:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?_:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?_:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?_:Uint32Array,"%URIError%":Gc,"%WeakMap%":typeof WeakMap>"u"?_:WeakMap,"%WeakRef%":typeof WeakRef>"u"?_:WeakRef,"%WeakSet%":typeof WeakSet>"u"?_:WeakSet,"%Function.prototype.call%":rt,"%Function.prototype.apply%":bi,"%Object.defineProperty%":Hc,"%Object.getPrototypeOf%":Bc,"%Math.abs%":Dc,"%Math.floor%":qc,"%Math.max%":kc,"%Math.min%":Nc,"%Math.pow%":Fc,"%Math.round%":Lc,"%Math.sign%":Uc,"%Reflect.getPrototypeOf%":zc};if(D)try{null.error}catch(t){_i=D(D(t)),ue["%Error.prototype%"]=_i}var _i,jc=function t(e){var r;if(e==="%AsyncFunction%")r=ro("async function () {}");else if(e==="%GeneratorFunction%")r=ro("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=ro("async function* () {}");else if(e==="%AsyncGenerator%"){var o=t("%AsyncGeneratorFunction%");o&&(r=o.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&D&&(r=D(s.prototype))}return ue[e]=r,r},Ei={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ot=et(),zt=Si(),Vc=ot.call(rt,Array.prototype.concat),Kc=ot.call(bi,Array.prototype.splice),xi=ot.call(rt,String.prototype.replace),Wt=ot.call(rt,String.prototype.slice),Jc=ot.call(rt,RegExp.prototype.exec),Qc=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Yc=/\\(\\)?/g,Xc=function(e){var r=Wt(e,0,1),o=Wt(e,-1);if(r==="%"&&o!=="%")throw new Re("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&r!=="%")throw new Re("invalid intrinsic syntax, expected opening `%`");var s=[];return xi(e,Qc,function(a,l,p,c){s[s.length]=p?xi(c,Yc,"$1"):l||a}),s},Zc=function(e,r){var o=e,s;if(zt(Ei,o)&&(s=Ei[o],o="%"+s[0]+"%"),zt(ue,o)){var a=ue[o];if(a===be&&(a=jc(o)),typeof a>"u"&&!r)throw new we("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:o,value:a}}throw new Re("intrinsic "+e+" does not exist!")};wi.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new we("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new we('"allowMissing" argument must be a boolean');if(Jc(/^%?[^%]*%?$/,e)===null)throw new Re("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=Xc(e),s=o.length>0?o[0]:"",a=Zc("%"+s+"%",r),l=a.name,p=a.value,c=!1,m=a.alias;m&&(s=m[0],Kc(o,Vc([0,1],m)));for(var u=1,h=!0;u<o.length;u+=1){var d=o[u],y=Wt(d,0,1),f=Wt(d,-1);if((y==='"'||y==="'"||y==="`"||f==='"'||f==="'"||f==="`")&&y!==f)throw new Re("property names with quotes must have matching quotes");if((d==="constructor"||!h)&&(c=!0),s+="."+d,l="%"+s+"%",zt(ue,l))p=ue[l];else if(p!=null){if(!(d in p)){if(!r)throw new we("base intrinsic for "+e+" exists, but the property is not available.");return}if(tt&&u+1>=o.length){var P=tt(p,d);h=!!P,h&&"get"in P&&!("originalValue"in P.get)?p=P.get:p=p[d]}else h=zt(p,d),p=p[d];h&&!c&&(ue[l]=p)}}return p}});var no=T((jm,Ci)=>{"use strict";n();var Ri=jt(),Ai=eo(),ep=Ai([Ri("%String.prototype.indexOf%")]);Ci.exports=function(e,r){var o=Ri(e,!!r);return typeof o=="function"&&ep(e,".prototype.")>-1?Ai([o]):o}});var io=T((Km,Ii)=>{"use strict";n();var tp=jt(),nt=no(),rp=Ze(),op=ae(),Mi=tp("%Map%",!0),np=nt("Map.prototype.get",!0),ip=nt("Map.prototype.set",!0),sp=nt("Map.prototype.has",!0),ap=nt("Map.prototype.delete",!0),lp=nt("Map.prototype.size",!0);Ii.exports=!!Mi&&function(){var e,r={assert:function(o){if(!r.has(o))throw new op("Side channel does not contain "+rp(o))},delete:function(o){if(e){var s=ap(e,o);return lp(e)===0&&(e=void 0),s}return!1},get:function(o){if(e)return np(e,o)},has:function(o){return e?sp(e,o):!1},set:function(o,s){e||(e=new Mi),ip(e,o,s)}};return r}});var Di=T((Qm,Gi)=>{"use strict";n();var up=jt(),Kt=no(),cp=Ze(),Vt=io(),pp=ae(),Ae=up("%WeakMap%",!0),dp=Kt("WeakMap.prototype.get",!0),hp=Kt("WeakMap.prototype.set",!0),mp=Kt("WeakMap.prototype.has",!0),fp=Kt("WeakMap.prototype.delete",!0);Gi.exports=Ae?function(){var e,r,o={assert:function(s){if(!o.has(s))throw new pp("Side channel does not contain "+cp(s))},delete:function(s){if(Ae&&s&&(typeof s=="object"||typeof s=="function")){if(e)return fp(e,s)}else if(Vt&&r)return r.delete(s);return!1},get:function(s){return Ae&&s&&(typeof s=="object"||typeof s=="function")&&e?dp(e,s):r&&r.get(s)},has:function(s){return Ae&&s&&(typeof s=="object"||typeof s=="function")&&e?mp(e,s):!!r&&r.has(s)},set:function(s,a){Ae&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Ae),hp(e,s,a)):Vt&&(r||(r=Vt()),r.set(s,a))}};return o}:Vt});var ki=T((Xm,qi)=>{"use strict";n();var yp=ae(),vp=Ze(),Pp=cn(),gp=io(),Tp=Di(),Sp=Tp||gp||Pp;qi.exports=function(){var e,r={assert:function(o){if(!r.has(o))throw new yp("Side channel does not contain "+vp(o))},delete:function(o){return!!e&&e.delete(o)},get:function(o){return e&&e.get(o)},has:function(o){return!!e&&e.has(o)},set:function(o,s){e||(e=Sp()),e.set(o,s)}};return r}});var Jt=T((ef,Ni)=>{"use strict";n();var _p=String.prototype.replace,Ep=/%20/g,so={RFC1738:"RFC1738",RFC3986:"RFC3986"};Ni.exports={default:so.RFC3986,formatters:{RFC1738:function(t){return _p.call(t,Ep,"+")},RFC3986:function(t){return String(t)}},RFC1738:so.RFC1738,RFC3986:so.RFC3986}});var uo=T((rf,Li)=>{"use strict";n();var xp=Jt(),ao=Object.prototype.hasOwnProperty,ce=Array.isArray,B=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Op=function(e){for(;e.length>1;){var r=e.pop(),o=r.obj[r.prop];if(ce(o)){for(var s=[],a=0;a<o.length;++a)typeof o[a]<"u"&&s.push(o[a]);r.obj[r.prop]=s}}},Fi=function(e,r){for(var o=r&&r.plainObjects?{__proto__:null}:{},s=0;s<e.length;++s)typeof e[s]<"u"&&(o[s]=e[s]);return o},bp=function t(e,r,o){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(ce(e))e.push(r);else if(e&&typeof e=="object")(o&&(o.plainObjects||o.allowPrototypes)||!ao.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var s=e;return ce(e)&&!ce(r)&&(s=Fi(e,o)),ce(e)&&ce(r)?(r.forEach(function(a,l){if(ao.call(e,l)){var p=e[l];p&&typeof p=="object"&&a&&typeof a=="object"?e[l]=t(p,a,o):e.push(a)}else e[l]=a}),e):Object.keys(r).reduce(function(a,l){var p=r[l];return ao.call(a,l)?a[l]=t(a[l],p,o):a[l]=p,a},s)},wp=function(e,r){return Object.keys(r).reduce(function(o,s){return o[s]=r[s],o},e)},Rp=function(t,e,r){var o=t.replace(/\+/g," ");if(r==="iso-8859-1")return o.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(o)}catch{return o}},lo=1024,Ap=function(e,r,o,s,a){if(e.length===0)return e;var l=e;if(typeof e=="symbol"?l=Symbol.prototype.toString.call(e):typeof e!="string"&&(l=String(e)),o==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var p="",c=0;c<l.length;c+=lo){for(var m=l.length>=lo?l.slice(c,c+lo):l,u=[],h=0;h<m.length;++h){var d=m.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||a===xp.RFC1738&&(d===40||d===41)){u[u.length]=m.charAt(h);continue}if(d<128){u[u.length]=B[d];continue}if(d<2048){u[u.length]=B[192|d>>6]+B[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=B[224|d>>12]+B[128|d>>6&63]+B[128|d&63];continue}h+=1,d=65536+((d&1023)<<10|m.charCodeAt(h)&1023),u[u.length]=B[240|d>>18]+B[128|d>>12&63]+B[128|d>>6&63]+B[128|d&63]}p+=u.join("")}return p},Cp=function(e){for(var r=[{obj:{o:e},prop:"o"}],o=[],s=0;s<r.length;++s)for(var a=r[s],l=a.obj[a.prop],p=Object.keys(l),c=0;c<p.length;++c){var m=p[c],u=l[m];typeof u=="object"&&u!==null&&o.indexOf(u)===-1&&(r.push({obj:l,prop:m}),o.push(u))}return Op(r),e},Mp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Ip=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Gp=function(e,r){return[].concat(e,r)},Dp=function(e,r){if(ce(e)){for(var o=[],s=0;s<e.length;s+=1)o.push(r(e[s]));return o}return r(e)};Li.exports={arrayToObject:Fi,assign:wp,combine:Gp,compact:Cp,decode:Rp,encode:Ap,isBuffer:Ip,isRegExp:Mp,maybeMap:Dp,merge:bp}});var Wi=T((nf,zi)=>{"use strict";n();var Hi=ki(),Qt=uo(),it=Jt(),qp=Object.prototype.hasOwnProperty,$i={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},z=Array.isArray,kp=Array.prototype.push,Bi=function(t,e){kp.apply(t,z(e)?e:[e])},Np=Date.prototype.toISOString,Ui=it.default,M={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Qt.encode,encodeValuesOnly:!1,filter:void 0,format:Ui,formatter:it.formatters[Ui],indices:!1,serializeDate:function(e){return Np.call(e)},skipNulls:!1,strictNullHandling:!1},Fp=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},co={},Lp=function t(e,r,o,s,a,l,p,c,m,u,h,d,y,f,P,g,S,O){for(var v=e,E=O,G=0,Q=!1;(E=E.get(co))!==void 0&&!Q;){var q=E.get(e);if(G+=1,typeof q<"u"){if(q===G)throw new RangeError("Cyclic object value");Q=!0}typeof E.get(co)>"u"&&(G=0)}if(typeof u=="function"?v=u(r,v):v instanceof Date?v=y(v):o==="comma"&&z(v)&&(v=Qt.maybeMap(v,function(Ar){return Ar instanceof Date?y(Ar):Ar})),v===null){if(l)return m&&!g?m(r,M.encoder,S,"key",f):r;v=""}if(Fp(v)||Qt.isBuffer(v)){if(m){var F=g?r:m(r,M.encoder,S,"key",f);return[P(F)+"="+P(m(v,M.encoder,S,"value",f))]}return[P(r)+"="+P(String(v))]}var N=[];if(typeof v>"u")return N;var C;if(o==="comma"&&z(v))g&&m&&(v=Qt.maybeMap(v,m)),C=[{value:v.length>0?v.join(",")||null:void 0}];else if(z(u))C=u;else{var Pe=Object.keys(v);C=h?Pe.sort(h):Pe}var ge=c?String(r).replace(/\./g,"%2E"):String(r),L=s&&z(v)&&v.length===1?ge+"[]":ge;if(a&&z(v)&&v.length===0)return L+"[]";for(var Y=0;Y<C.length;++Y){var K=C[Y],Be=typeof K=="object"&&K&&typeof K.value<"u"?K.value:v[K];if(!(p&&Be===null)){var Rr=d&&c?String(K).replace(/\./g,"%2E"):String(K),pu=z(v)?typeof o=="function"?o(L,Rr):L:L+(d?"."+Rr:"["+Rr+"]");O.set(e,G);var qo=Hi();qo.set(co,O),Bi(N,t(Be,pu,o,s,a,l,p,c,o==="comma"&&g&&z(v)?null:m,u,h,d,y,f,P,g,S,qo))}}return N},Up=function(e){if(!e)return M;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||M.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var o=it.default;if(typeof e.format<"u"){if(!qp.call(it.formatters,e.format))throw new TypeError("Unknown format option provided.");o=e.format}var s=it.formatters[o],a=M.filter;(typeof e.filter=="function"||z(e.filter))&&(a=e.filter);var l;if(e.arrayFormat in $i?l=e.arrayFormat:"indices"in e?l=e.indices?"indices":"repeat":l=M.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var p=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:M.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:M.addQueryPrefix,allowDots:p,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:M.allowEmptyArrays,arrayFormat:l,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:M.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?M.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:M.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:M.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:M.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:M.encodeValuesOnly,filter:a,format:o,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:M.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:M.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:M.strictNullHandling}};zi.exports=function(t,e){var r=t,o=Up(e),s,a;typeof o.filter=="function"?(a=o.filter,r=a("",r)):z(o.filter)&&(a=o.filter,s=a);var l=[];if(typeof r!="object"||r===null)return"";var p=$i[o.arrayFormat],c=p==="comma"&&o.commaRoundTrip;s||(s=Object.keys(r)),o.sort&&s.sort(o.sort);for(var m=Hi(),u=0;u<s.length;++u){var h=s[u],d=r[h];o.skipNulls&&d===null||Bi(l,Lp(d,h,p,c,o.allowEmptyArrays,o.strictNullHandling,o.skipNulls,o.encodeDotInKeys,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,m))}var y=l.join(o.delimiter),f=o.addQueryPrefix===!0?"?":"";return o.charsetSentinel&&(o.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),y.length>0?f+y:""}});var Ji=T((af,Ki)=>{"use strict";n();var pe=uo(),po=Object.prototype.hasOwnProperty,ji=Array.isArray,R={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:pe.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},Hp=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Vi=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},$p="utf8=%26%2310003%3B",Bp="utf8=%E2%9C%93",zp=function(e,r){var o={__proto__:null},s=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;s=s.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var a=r.parameterLimit===1/0?void 0:r.parameterLimit,l=s.split(r.delimiter,r.throwOnLimitExceeded?a+1:a);if(r.throwOnLimitExceeded&&l.length>a)throw new RangeError("Parameter limit exceeded. Only "+a+" parameter"+(a===1?"":"s")+" allowed.");var p=-1,c,m=r.charset;if(r.charsetSentinel)for(c=0;c<l.length;++c)l[c].indexOf("utf8=")===0&&(l[c]===Bp?m="utf-8":l[c]===$p&&(m="iso-8859-1"),p=c,c=l.length);for(c=0;c<l.length;++c)if(c!==p){var u=l[c],h=u.indexOf("]="),d=h===-1?u.indexOf("="):h+1,y,f;d===-1?(y=r.decoder(u,R.decoder,m,"key"),f=r.strictNullHandling?null:""):(y=r.decoder(u.slice(0,d),R.decoder,m,"key"),f=pe.maybeMap(Vi(u.slice(d+1),r,ji(o[y])?o[y].length:0),function(g){return r.decoder(g,R.decoder,m,"value")})),f&&r.interpretNumericEntities&&m==="iso-8859-1"&&(f=Hp(String(f))),u.indexOf("[]=")>-1&&(f=ji(f)?[f]:f);var P=po.call(o,y);P&&r.duplicates==="combine"?o[y]=pe.combine(o[y],f):(!P||r.duplicates==="last")&&(o[y]=f)}return o},Wp=function(t,e,r,o){var s=0;if(t.length>0&&t[t.length-1]==="[]"){var a=t.slice(0,-1).join("");s=Array.isArray(e)&&e[a]?e[a].length:0}for(var l=o?e:Vi(e,r,s),p=t.length-1;p>=0;--p){var c,m=t[p];if(m==="[]"&&r.parseArrays)c=r.allowEmptyArrays&&(l===""||r.strictNullHandling&&l===null)?[]:pe.combine([],l);else{c=r.plainObjects?{__proto__:null}:{};var u=m.charAt(0)==="["&&m.charAt(m.length-1)==="]"?m.slice(1,-1):m,h=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,d=parseInt(h,10);!r.parseArrays&&h===""?c={0:l}:!isNaN(d)&&m!==h&&String(d)===h&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(c=[],c[d]=l):h!=="__proto__"&&(c[h]=l)}l=c}return l},jp=function(e,r,o,s){if(e){var a=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,p=/(\[[^[\]]*])/g,c=o.depth>0&&l.exec(a),m=c?a.slice(0,c.index):a,u=[];if(m){if(!o.plainObjects&&po.call(Object.prototype,m)&&!o.allowPrototypes)return;u.push(m)}for(var h=0;o.depth>0&&(c=p.exec(a))!==null&&h<o.depth;){if(h+=1,!o.plainObjects&&po.call(Object.prototype,c[1].slice(1,-1))&&!o.allowPrototypes)return;u.push(c[1])}if(c){if(o.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+o.depth+" and strictDepth is true");u.push("["+a.slice(c.index)+"]")}return Wp(u,r,o,s)}},Vp=function(e){if(!e)return R;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?R.charset:e.charset,o=typeof e.duplicates>"u"?R.duplicates:e.duplicates;if(o!=="combine"&&o!=="first"&&o!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var s=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:R.allowDots:!!e.allowDots;return{allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:R.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:R.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:R.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:R.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:R.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:R.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:R.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:R.decoder,delimiter:typeof e.delimiter=="string"||pe.isRegExp(e.delimiter)?e.delimiter:R.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:R.depth,duplicates:o,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:R.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:R.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:R.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:R.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:R.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}};Ki.exports=function(t,e){var r=Vp(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var o=typeof t=="string"?zp(t,r):t,s=r.plainObjects?{__proto__:null}:{},a=Object.keys(o),l=0;l<a.length;++l){var p=a[l],c=jp(p,o[p],r,typeof t=="string");s=pe.merge(s,c,r)}return r.allowSparse===!0?s:pe.compact(s)}});var Yi=T((uf,Qi)=>{"use strict";n();var Kp=Wi(),Jp=Ji(),Qp=Jt();Qi.exports={formats:Qp,parse:Jp,stringify:Kp}});n();n();n();import*as Ie from"crypto";import{EventEmitter as ls}from"events";n();import*as wt from"crypto";n();var X=class{computeHMACSignature(e,r){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,r){throw new Error("computeHMACSignatureAsync not implemented.")}computeSHA256Async(e){throw new Error("computeSHA256 not implemented.")}},Te=class extends Error{};var bt=class extends X{computeHMACSignature(e,r){return wt.createHmac("sha256",r).update(e,"utf8").digest("hex")}async computeHMACSignatureAsync(e,r){return await this.computeHMACSignature(e,r)}async computeSHA256Async(e){return new Uint8Array(await wt.createHash("sha256").update(e).digest())}};n();import*as Ir from"http";import*as Gr from"https";n();var k=class t{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,r,o,s,a,l,p,c){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){let e=new TypeError(t.TIMEOUT_ERROR_CODE);return e.code=t.TIMEOUT_ERROR_CODE,e}};k.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];k.TIMEOUT_ERROR_CODE="ETIMEDOUT";var Z=class{constructor(e,r){this._statusCode=e,this._headers=r}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}};var No=Ir.default||Ir,Fo=Gr.default||Gr,xu=new No.Agent({keepAlive:!0}),Ou=new Fo.Agent({keepAlive:!0}),ze=class extends k{constructor(e){super(),this._agent=e}getClientName(){return"node"}makeRequest(e,r,o,s,a,l,p,c){let m=p==="http",u=this._agent;return u||(u=m?xu:Ou),new Promise((d,y)=>{let f=(m?No:Fo).request({host:e,port:r,path:o,method:s,agent:u,headers:a,ciphers:"DEFAULT:!aNULL:!eNULL:!LOW:!EXPORT:!SSLv2:!MD5"});f.setTimeout(c,()=>{f.destroy(k.makeTimeoutError())}),f.on("response",P=>{d(new Mr(P))}),f.on("error",P=>{y(P)}),f.once("socket",P=>{P.connecting?P.once(m?"connect":"secureConnect",()=>{f.write(l),f.end()}):(f.write(l),f.end())})})}},Mr=class extends Z{constructor(e){super(e.statusCode,e.headers||{}),this._res=e}getRawResponse(){return this._res}toStream(e){return this._res.once("end",()=>e()),this._res}toJSON(){return new Promise((e,r)=>{let o="";this._res.setEncoding("utf8"),this._res.on("data",s=>{o+=s}),this._res.once("end",()=>{try{e(JSON.parse(o))}catch(s){r(s)}})})}};n();n();var Rt=class t extends k{constructor(e){if(super(),!e){if(!globalThis.fetch)throw new Error("fetch() function not provided and is not defined in the global scope. You must provide a fetch implementation.");e=globalThis.fetch}globalThis.AbortController?this._fetchFn=t.makeFetchWithAbortTimeout(e):this._fetchFn=t.makeFetchWithRaceTimeout(e)}static makeFetchWithRaceTimeout(e){return(r,o,s)=>{let a,l=new Promise((c,m)=>{a=setTimeout(()=>{a=null,m(k.makeTimeoutError())},s)}),p=e(r,o);return Promise.race([p,l]).finally(()=>{a&&clearTimeout(a)})}}static makeFetchWithAbortTimeout(e){return async(r,o,s)=>{let a=new AbortController,l=setTimeout(()=>{l=null,a.abort(k.makeTimeoutError())},s);try{return await e(r,Object.assign(Object.assign({},o),{signal:a.signal}))}catch(p){throw p.name==="AbortError"?k.makeTimeoutError():p}finally{l&&clearTimeout(l)}}}getClientName(){return"fetch"}async makeRequest(e,r,o,s,a,l,p,c){let m=p==="http",u=new URL(o,`${m?"http":"https"}://${e}`);u.port=r;let h=s=="POST"||s=="PUT"||s=="PATCH",d=l||(h?"":void 0),y=await this._fetchFn(u.toString(),{method:s,headers:a,body:d},c);return new Dr(y)}},Dr=class t extends Z{constructor(e){super(e.status,t._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){let r={};for(let o of e){if(!Array.isArray(o)||o.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");r[o[0]]=o[1]}return r}};n();var At=class extends X{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,r){throw new Te("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,r){let o=new TextEncoder,s=await this.subtleCrypto.importKey("raw",o.encode(r),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),a=await this.subtleCrypto.sign("hmac",s,o.encode(e)),l=new Uint8Array(a),p=new Array(l.length);for(let c=0;c<l.length;c++)p[c]=qr[l[c]];return p.join("")}async computeSHA256Async(e){return new Uint8Array(await this.subtleCrypto.digest("SHA-256",e))}},qr=new Array(256);for(let t=0;t<qr.length;t++)qr[t]=t.toString(16).padStart(2,"0");var Ct=class{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let r=Math.random()*16|0;return(e==="x"?r:r&3|8).toString(16)})}secureCompare(e,r){if(e.length!==r.length)return!1;let o=e.length,s=0;for(let a=0;a<o;++a)s|=e.charCodeAt(a)^r.charCodeAt(a);return s===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new Rt(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new At(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}};var kt={};ko(kt,{StripeAPIError:()=>Se,StripeAuthenticationError:()=>_e,StripeCardError:()=>Mt,StripeConnectionError:()=>Ve,StripeError:()=>w,StripeIdempotencyError:()=>It,StripeInvalidGrantError:()=>Gt,StripeInvalidRequestError:()=>We,StripePermissionError:()=>je,StripeRateLimitError:()=>Ee,StripeSignatureVerificationError:()=>U,StripeUnknownError:()=>Dt,TemporarySessionExpiredError:()=>qt,generateV1Error:()=>Ke,generateV2Error:()=>kr});n();var Ke=t=>{switch(t.type){case"card_error":return new Mt(t);case"invalid_request_error":return new We(t);case"api_error":return new Se(t);case"authentication_error":return new _e(t);case"rate_limit_error":return new Ee(t);case"idempotency_error":return new It(t);case"invalid_grant":return new Gt(t);default:return new Dt(t)}},kr=t=>{switch(t.type){case"temporary_session_expired":return new qt(t)}switch(t.code){case"invalid_fields":return new We(t)}return Ke(t)},w=class extends Error{constructor(e={},r=null){super(e.message),this.type=r||this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=e.message,this.userMessage=e.user_message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}};w.generate=Ke;var Mt=class extends w{constructor(e={}){super(e,"StripeCardError")}},We=class extends w{constructor(e={}){super(e,"StripeInvalidRequestError")}},Se=class extends w{constructor(e={}){super(e,"StripeAPIError")}},_e=class extends w{constructor(e={}){super(e,"StripeAuthenticationError")}},je=class extends w{constructor(e={}){super(e,"StripePermissionError")}},Ee=class extends w{constructor(e={}){super(e,"StripeRateLimitError")}},Ve=class extends w{constructor(e={}){super(e,"StripeConnectionError")}},U=class extends w{constructor(e,r,o={}){super(o,"StripeSignatureVerificationError"),this.header=e,this.payload=r}},It=class extends w{constructor(e={}){super(e,"StripeIdempotencyError")}},Gt=class extends w{constructor(e={}){super(e,"StripeInvalidGrantError")}},Dt=class extends w{constructor(e={}){super(e,"StripeUnknownError")}},qt=class extends w{constructor(e={}){super(e,"TemporarySessionExpiredError")}};n();var Xi=Tu(Yi(),1),ho=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host","authenticator","stripeContext","additionalHeaders"];function Zi(t){return t&&typeof t=="object"&&ho.some(e=>Object.prototype.hasOwnProperty.call(t,e))}function re(t,e){return Xi.stringify(t,{serializeDate:r=>Math.floor(r.getTime()/1e3).toString(),arrayFormat:e=="v2"?"repeat":"indices"}).replace(/%5B/g,"[").replace(/%5D/g,"]")}var Xt=(()=>{let t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{let r=e.replace(/["\n\r\u2028\u2029]/g,o=>t[o]);return o=>r.replace(/\{([\s\S]+?)\}/g,(s,a)=>encodeURIComponent(o[a]||""))}})();function es(t){let e=t.match(/\{\w+\}/g);return e?e.map(r=>r.replace(/[{}]/g,"")):[]}function Ce(t){if(!Array.isArray(t)||!t[0]||typeof t[0]!="object")return{};if(!Zi(t[0]))return t.shift();let e=Object.keys(t[0]),r=e.filter(o=>ho.includes(o));return r.length>0&&r.length!==e.length&&at(`Options found in arguments (${r.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function Zt(t){let e={host:null,headers:{},settings:{}};if(t.length>0){let r=t[t.length-1];if(typeof r=="string")e.authenticator=Yt(t.pop());else if(Zi(r)){let o=Object.assign({},t.pop()),s=Object.keys(o).filter(a=>!ho.includes(a));if(s.length&&at(`Invalid options found (${s.join(", ")}); ignoring.`),o.apiKey&&(e.authenticator=Yt(o.apiKey)),o.idempotencyKey&&(e.headers["Idempotency-Key"]=o.idempotencyKey),o.stripeAccount&&(e.headers["Stripe-Account"]=o.stripeAccount),o.stripeContext){if(e.headers["Stripe-Account"])throw new Error("Can't specify both stripeAccount and stripeContext.");e.headers["Stripe-Context"]=o.stripeContext}if(o.apiVersion&&(e.headers["Stripe-Version"]=o.apiVersion),Number.isInteger(o.maxNetworkRetries)&&(e.settings.maxNetworkRetries=o.maxNetworkRetries),Number.isInteger(o.timeout)&&(e.settings.timeout=o.timeout),o.host&&(e.host=o.host),o.authenticator){if(o.apiKey)throw new Error("Can't specify both apiKey and authenticator.");if(typeof o.authenticator!="function")throw new Error("The authenticator must be a function receiving a request as the first parameter.");e.authenticator=o.authenticator}o.additionalHeaders&&(e.headers=o.additionalHeaders)}}return e}function ts(t){let e=this,r=Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(...o){e.apply(this,o)};return Object.assign(r,e),r.prototype=Object.create(e.prototype),Object.assign(r.prototype,t),r}function er(t){if(typeof t!="object")throw new Error("Argument must be an object");return Object.keys(t).reduce((e,r)=>(t[r]!=null&&(e[r]=t[r]),e),{})}function rs(t){return t&&typeof t=="object"?Object.keys(t).reduce((e,r)=>(e[Yp(r)]=t[r],e),{}):t}function Yp(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function st(t,e){return e?t.then(r=>{setTimeout(()=>{e(null,r)},0)},r=>{setTimeout(()=>{e(r,null)},0)}):t}function os(t){return t==="OAuth"?"oauth":t[0].toLowerCase()+t.substring(1)}function at(t){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${t}`):process.emitWarning(t,"Stripe")}function Xp(t){let e=typeof t;return(e==="function"||e==="object")&&!!t}function ns(t){let e={},r=(o,s)=>{Object.entries(o).forEach(([a,l])=>{let p=s?`${s}[${a}]`:a;if(Xp(l)){if(!(l instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(l,"data"))return r(l,p);e[p]=l}else e[p]=String(l)})};return r(t,null),e}function tr(t,e,r){if(!Number.isInteger(e)){if(r!==void 0)return r;throw new Error(`${t} must be an integer`)}return e}function is(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}function Yt(t){let e=r=>(r.headers.Authorization="Bearer "+t,Promise.resolve());return e._apiKey=t,e}function ss(t){let e=t.reduce((s,a)=>s+a.length,0),r=new Uint8Array(e),o=0;return t.forEach(s=>{r.set(s,o),o+=s.length}),r}function Zp(t,e){return this[t]instanceof Date?Math.floor(this[t].getTime()/1e3).toString():e}function as(t){return JSON.stringify(t,Zp)}function Me(t){return t&&t.startsWith("/v2")?"v2":"v1"}import{exec as ed}from"child_process";var mo=class extends w{},rr=class extends Ct{constructor(){super(),this._exec=ed,this._UNAME_CACHE=null}uuid4(){return Ie.randomUUID?Ie.randomUUID():super.uuid4()}getUname(){return this._UNAME_CACHE||(this._UNAME_CACHE=new Promise((e,r)=>{try{this._exec("uname -a",(o,s)=>{if(o)return e(null);e(s)})}catch{e(null)}})),this._UNAME_CACHE}secureCompare(e,r){if(!e||!r)throw new Error("secureCompare must receive two arguments");if(e.length!==r.length)return!1;if(Ie.timingSafeEqual){let o=new TextEncoder,s=o.encode(e),a=o.encode(r);return Ie.timingSafeEqual(s,a)}return super.secureCompare(e,r)}createEmitter(){return new ls}tryBufferData(e){if(!(e.file.data instanceof ls))return Promise.resolve(e);let r=[];return new Promise((o,s)=>{e.file.data.on("data",a=>{r.push(a)}).once("end",()=>{let a=Object.assign({},e);a.file.data=ss(r),o(a)}).on("error",a=>{s(new mo({message:"An error occurred while attempting to process the file for upload.",detail:a}))})})}createNodeHttpClient(e){return new ze(e)}createDefaultHttpClient(){return new ze}createNodeCryptoProvider(){return new bt}createDefaultCryptoProvider(){return this.createNodeCryptoProvider()}};n();n();var td=60,or=class t{constructor(e,r){this._stripe=e,this._maxBufferedRequestMetric=r}_addHeadersDirectlyToObject(e,r){e.requestId=r["request-id"],e.stripeAccount=e.stripeAccount||r["stripe-account"],e.apiVersion=e.apiVersion||r["stripe-version"],e.idempotencyKey=e.idempotencyKey||r["idempotency-key"]}_makeResponseEvent(e,r,o){let s=Date.now(),a=s-e.request_start_time;return er({api_version:o["stripe-version"],account:o["stripe-account"],idempotency_key:o["idempotency-key"],method:e.method,path:e.path,status:r,request_id:this._getRequestId(o),elapsed:a,request_start_time:e.request_start_time,request_end_time:s})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,r,o){return s=>{let a=s.getHeaders(),l=()=>{let c=this._makeResponseEvent(e,s.getStatusCode(),a);this._stripe._emitter.emit("response",c),this._recordRequestMetrics(this._getRequestId(a),c.elapsed,r)},p=s.toStream(l);return this._addHeadersDirectlyToObject(p,a),o(null,p)}}_jsonResponseHandler(e,r,o,s){return a=>{let l=a.getHeaders(),p=this._getRequestId(l),c=a.getStatusCode(),m=this._makeResponseEvent(e,c,l);this._stripe._emitter.emit("response",m),a.toJSON().then(u=>{if(u.error){let h;throw typeof u.error=="string"&&(u.error={type:u.error,message:u.error_description}),u.error.headers=l,u.error.statusCode=c,u.error.requestId=p,c===401?h=new _e(u.error):c===403?h=new je(u.error):c===429?h=new Ee(u.error):r==="v2"?h=kr(u.error):h=Ke(u.error),h}return u},u=>{throw new Se({message:"Invalid JSON received from the Stripe API",exception:u,requestId:l["request-id"]})}).then(u=>{this._recordRequestMetrics(p,m.elapsed,o);let h=a.getRawResponse();this._addHeadersDirectlyToObject(h,l),Object.defineProperty(u,"lastResponse",{enumerable:!1,writable:!1,value:h}),s(null,u)},u=>s(u,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,r,o,s){return s&&r===0&&k.CONNECTION_CLOSED_ERROR_CODES.includes(s.code)?!0:r>=o?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,r=null){let o=this._stripe.getInitialNetworkRetryDelay(),s=this._stripe.getMaxNetworkRetryDelay(),a=Math.min(o*Math.pow(2,e-1),s);return a*=.5*(1+Math.random()),a=Math.max(o,a),Number.isInteger(r)&&r<=td&&(a=Math.max(a,r)),a*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries!==void 0&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,r,o){let s=this._getMaxNetworkRetries(r),a=()=>`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`;if(o==="v2"){if(e==="POST"||e==="DELETE")return a()}else if(o==="v1"&&e==="POST"&&s>0)return a();return null}_makeHeaders({contentType:e,contentLength:r,apiVersion:o,clientUserAgent:s,method:a,userSuppliedHeaders:l,userSuppliedSettings:p,stripeAccount:c,stripeContext:m,apiMode:u}){let h={Accept:"application/json","Content-Type":e,"User-Agent":this._getUserAgentString(u),"X-Stripe-Client-User-Agent":s,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":o,"Stripe-Account":c,"Stripe-Context":m,"Idempotency-Key":this._defaultIdempotencyKey(a,p,u)},d=a=="POST"||a=="PUT"||a=="PATCH";return(d||r)&&(d||at(`${a} method had non-zero contentLength but no payload is expected for this verb`),h["Content-Length"]=r),Object.assign(er(h),rs(l))}_getUserAgentString(e){let r=this._stripe.getConstant("PACKAGE_VERSION"),o=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/${e} NodeBindings/${r} ${o}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){let e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,r,o){if(this._stripe.getTelemetryEnabled()&&e)if(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric)at("Request metrics buffer is full, dropping telemetry message.");else{let s={request_id:e,request_duration_ms:r};o&&o.length>0&&(s.usage=o),this._stripe._prevRequestMetrics.push(s)}}_rawRequest(e,r,o,s){return new Promise((l,p)=>{let c;try{let y=e.toUpperCase();if(y!=="POST"&&o&&Object.keys(o).length!==0)throw new Error("rawRequest only supports params on POST requests. Please pass null and add your parameters to path.");let f=[].slice.call([o,s]),P=Ce(f),g=Object.assign({},P),S=Zt(f),O=S.headers,v=S.authenticator;c={requestMethod:y,requestPath:r,bodyData:g,queryData:{},authenticator:v,headers:O,host:null,streaming:!1,settings:{},usage:["raw_request"]}}catch(y){p(y);return}function m(y,f){y?p(y):l(f)}let{headers:u,settings:h}=c,d=c.authenticator;this._request(c.requestMethod,c.host,r,c.bodyData,d,{headers:u,settings:h,streaming:c.streaming},c.usage,m)})}_request(e,r,o,s,a,l,p=[],c,m=null){var u;let h;a=(u=a??this._stripe._authenticator)!==null&&u!==void 0?u:null;let d=Me(o),y=(g,S,O,v,E)=>setTimeout(g,this._getSleepTimeInMS(v,E),S,O,v+1),f=(g,S,O)=>{let v=l.settings&&l.settings.timeout&&Number.isInteger(l.settings.timeout)&&l.settings.timeout>=0?l.settings.timeout:this._stripe.getApiField("timeout"),E={host:r||this._stripe.getApiField("host"),port:this._stripe.getApiField("port"),path:o,method:e,headers:Object.assign({},S),body:h,protocol:this._stripe.getApiField("protocol")};a(E).then(()=>{let G=this._stripe.getApiField("httpClient").makeRequest(E.host,E.port,E.path,E.method,E.headers,E.body,E.protocol,v),Q=Date.now(),q=er({api_version:g,account:S["Stripe-Account"],idempotency_key:S["Idempotency-Key"],method:e,path:o,request_start_time:Q}),F=O||0,N=this._getMaxNetworkRetries(l.settings||{});this._stripe._emitter.emit("request",q),G.then(C=>t._shouldRetry(C,F,N)?y(f,g,S,F,C.getHeaders()["retry-after"]):l.streaming&&C.getStatusCode()<400?this._streamingResponseHandler(q,p,c)(C):this._jsonResponseHandler(q,d,p,c)(C)).catch(C=>{if(t._shouldRetry(null,F,N,C))return y(f,g,S,F,null);{let Pe=C.code&&C.code===k.TIMEOUT_ERROR_CODE;return c(new Ve({message:Pe?`Request aborted due to timeout being reached (${v}ms)`:t._generateConnectionErrorMessage(F),detail:C}))}})}).catch(G=>{throw new w({message:"Unable to authenticate the request",exception:G})})},P=(g,S)=>{if(g)return c(g);h=S,this._stripe.getClientUserAgent(O=>{let v=this._stripe.getApiField("version"),E=this._makeHeaders({contentType:d=="v2"?"application/json":"application/x-www-form-urlencoded",contentLength:h.length,apiVersion:v,clientUserAgent:O,method:e,userSuppliedHeaders:l.headers,userSuppliedSettings:l.settings,stripeAccount:d=="v2"?null:this._stripe.getApiField("stripeAccount"),stripeContext:d=="v2"?this._stripe.getApiField("stripeContext"):null,apiMode:d});f(v,E,0)})};if(m)m(e,s,l.headers,P);else{let g;d=="v2"?g=s?as(s):"":g=re(s||{},d),P(null,g)}}};n();n();n();var nr=class{constructor(e,r,o,s){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=r,this.spec=o,this.stripeResource=s}async iterate(e){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");let r=cs(this.requestArgs);if(this.index<e.data.length){let o=r?e.data.length-1-this.index:this.index,s=e.data[o];return this.index+=1,{value:s,done:!1}}else if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);let o=await this.pagePromise;return this.iterate(o)}return{done:!0,value:void 0}}getNextPage(e){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;let e=(async()=>{let r=await this._next();return this.promiseCache.currentPromise=null,r})();return this.promiseCache.currentPromise=e,e}},yo=class extends nr{getNextPage(e){let r=cs(this.requestArgs),o=id(e,r);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[r?"ending_before":"starting_after"]:o})}},vo=class extends nr{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}},Po=class{constructor(e,r,o,s){this.currentPageIterator=(async()=>(await e).data[Symbol.iterator]())(),this.nextPageUrl=(async()=>(await e).next_page_url||null)(),this.requestArgs=r,this.spec=o,this.stripeResource=s}async turnPage(){let e=await this.nextPageUrl;if(!e)return null;this.spec.fullPath=e;let r=await this.stripeResource._makeRequest([],this.spec,{});return this.nextPageUrl=Promise.resolve(r.next_page_url),this.currentPageIterator=Promise.resolve(r.data[Symbol.iterator]()),this.currentPageIterator}async next(){{let o=(await this.currentPageIterator).next();if(!o.done)return{done:!1,value:o.value}}let e=await this.turnPage();if(!e)return{done:!0,value:void 0};let r=e.next();return r.done?{done:!0,value:void 0}:{done:!1,value:r.value}}},us=(t,e,r,o)=>{let s=Me(r.fullPath||r.path);return s!=="v2"&&r.methodType==="search"?fo(new vo(o,e,r,t)):s!=="v2"&&r.methodType==="list"?fo(new yo(o,e,r,t)):s==="v2"&&r.methodType==="list"?fo(new Po(o,e,r,t)):null},fo=t=>{let e=sd((...s)=>t.next(...s)),r=ad(e),o={autoPagingEach:e,autoPagingToArray:r,next:()=>t.next(),return:()=>({}),[rd()]:()=>o};return o};function rd(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function od(t){if(t.length<2)return null;let e=t[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function nd(t){if(t.length===0)return;let e=t[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(o,s){let a=e(o);s(a)}}function id(t,e){let r=e?0:t.data.length-1,o=t.data[r],s=o&&o.id;if(!s)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return s}function sd(t){return function(){let r=[].slice.call(arguments),o=nd(r),s=od(r);if(r.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${r}`);let a=ld(t,o);return st(a,s)}}function ad(t){return function(r,o){let s=r&&r.limit;if(!s)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(s>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");let a=new Promise((l,p)=>{let c=[];t(m=>{if(c.push(m),c.length>=s)return!1}).then(()=>{l(c)}).catch(p)});return st(a,o)}}function ld(t,e){return new Promise((r,o)=>{function s(a){if(a.done){r();return}let l=a.value;return new Promise(p=>{e(l,p)}).then(p=>p===!1?s({done:!0,value:void 0}):t().then(s))}t().then(s).catch(o)})}function cs(t){let e=[].slice.call(t);return!!Ce(e).ending_before}function ps(t){if(t.path!==void 0&&t.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){let r=typeof e[e.length-1]=="function"&&e.pop();t.urlParams=es(t.fullPath||this.createResourcePathWithSymbols(t.path||""));let o=st(this._makeRequest(e,t,{}),r);return Object.assign(o,us(this,e,t,o)),o}}i.extend=ts;i.method=ps;i.MAX_BUFFERED_REQUEST_METRICS=100;function i(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=Xt(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=Xt(this.path),this.initialize(...arguments)}i.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){let r=[this.basePath(e),this.path(e)];if(typeof t=="function"){let o=t(e);o&&r.push(o)}else r.push(t);return this._joinUrlParts(r)},createResourcePathWithSymbols(t){return t?`/${this._joinUrlParts([this.resourcePath,t])}`:`/${this.resourcePath}`},_joinUrlParts(t){return t.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(t,e,r){var o;let s=(e.method||"GET").toUpperCase(),a=e.usage||[],l=e.urlParams||[],p=e.encode||(q=>q),c=!!e.fullPath,m=Xt(c?e.fullPath:e.path||""),u=c?e.fullPath:this.createResourcePathWithSymbols(e.path),h=[].slice.call(t),d=l.reduce((q,F)=>{let N=h.shift();if(typeof N!="string")throw new Error(`Stripe: Argument "${F}" must be a string, but got: ${N} (on API request to \`${s} ${u}\`)`);return q[F]=N,q},{}),y=Ce(h),f=p(Object.assign({},y,r)),P=Zt(h),g=P.host||e.host,S=!!e.streaming;if(h.filter(q=>q!=null).length)throw new Error(`Stripe: Unknown arguments (${h}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${s} \`${u}\`)`);let O=c?m(d):this.createFullPath(m,d),v=Object.assign(P.headers,e.headers);e.validator&&e.validator(f,{headers:v});let E=e.method==="GET"||e.method==="DELETE";return{requestMethod:s,requestPath:O,bodyData:E?null:f,queryData:E?f:{},authenticator:(o=P.authenticator)!==null&&o!==void 0?o:null,headers:v,host:g??null,streaming:S,settings:P.settings,usage:a}},_makeRequest(t,e,r){return new Promise((o,s)=>{var a;let l;try{l=this._getRequestOpts(t,e,r)}catch(d){s(d);return}function p(d,y){d?s(d):o(e.transformResponseData?e.transformResponseData(y):y)}let c=Object.keys(l.queryData).length===0,m=[l.requestPath,c?"":"?",re(l.queryData,Me(l.requestPath))].join(""),{headers:u,settings:h}=l;this._stripe._requestSender._request(l.requestMethod,l.host,m,l.bodyData,l.authenticator,{headers:u,settings:h,streaming:l.streaming},l.usage,p,(a=this.requestDataProcessor)===null||a===void 0?void 0:a.bind(this))})}};n();function go(t){let e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(u,h,d,y,f,P){try{this.signature.verifyHeader(u,h,d,y||e.DEFAULT_TOLERANCE,f,P)}catch(S){throw S instanceof Te&&(S.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),S}return u instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(u)):JSON.parse(u)},async constructEventAsync(u,h,d,y,f,P){return await this.signature.verifyHeaderAsync(u,h,d,y||e.DEFAULT_TOLERANCE,f,P),u instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(u)):JSON.parse(u)},generateTestHeaderString:function(u){let h=m(u),d=h.signature||h.cryptoProvider.computeHMACSignature(h.payloadString,h.secret);return h.generateHeaderString(d)},generateTestHeaderStringAsync:async function(u){let h=m(u),d=h.signature||await h.cryptoProvider.computeHMACSignatureAsync(h.payloadString,h.secret);return h.generateHeaderString(d)}},r={EXPECTED_SCHEME:"v1",verifyHeader(u,h,d,y,f,P){let{decodedHeader:g,decodedPayload:S,details:O,suspectPayloadType:v}=s(u,h,this.EXPECTED_SCHEME),E=/\s/.test(d);f=f||c();let G=f.computeHMACSignature(o(S,O),d);return a(S,g,O,G,y,v,E,P),!0},async verifyHeaderAsync(u,h,d,y,f,P){let{decodedHeader:g,decodedPayload:S,details:O,suspectPayloadType:v}=s(u,h,this.EXPECTED_SCHEME),E=/\s/.test(d);f=f||c();let G=await f.computeHMACSignatureAsync(o(S,O),d);return a(S,g,O,G,y,v,E,P)}};function o(u,h){return`${h.timestamp}.${u}`}function s(u,h,d){if(!u)throw new U(h,u,{message:"No webhook payload was provided."});let y=typeof u!="string"&&!(u instanceof Uint8Array),f=new TextDecoder("utf8"),P=u instanceof Uint8Array?f.decode(u):u;if(Array.isArray(h))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(h==null||h=="")throw new U(h,u,{message:"No stripe-signature header value was provided."});let g=h instanceof Uint8Array?f.decode(h):h,S=l(g,d);if(!S||S.timestamp===-1)throw new U(g,P,{message:"Unable to extract timestamp and signatures from header"});if(!S.signatures.length)throw new U(g,P,{message:"No signatures found with expected scheme"});return{decodedPayload:P,decodedHeader:g,details:S,suspectPayloadType:y}}function a(u,h,d,y,f,P,g,S){let O=!!d.signatures.filter(t.secureCompare.bind(t,y)).length,v=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://docs.stripe.com/webhooks/signature`,E=g?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!O)throw P?new U(h,u,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+v+`
`+E}):new U(h,u,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
 If a webhook request is being forwarded by a third-party tool, ensure that the exact request body, including JSON formatting and new line style, is preserved.
`+v+`
`+E});let G=Math.floor((typeof S=="number"?S:Date.now())/1e3)-d.timestamp;if(f>0&&G>f)throw new U(h,u,{message:"Timestamp outside the tolerance zone"});return!0}function l(u,h){return typeof u!="string"?null:u.split(",").reduce((d,y)=>{let f=y.split("=");return f[0]==="t"&&(d.timestamp=parseInt(f[1],10)),f[0]===h&&d.signatures.push(f[1]),d},{timestamp:-1,signatures:[]})}let p=null;function c(){return p||(p=t.createDefaultCryptoProvider()),p}function m(u){if(!u)throw new w({message:"Options are required"});let h=Math.floor(u.timestamp)||Math.floor(Date.now()/1e3),d=u.scheme||r.EXPECTED_SCHEME,y=u.cryptoProvider||c(),f=`${h}.${u.payload}`,P=g=>`t=${h},${d}=${g}`;return Object.assign(Object.assign({},u),{timestamp:h,scheme:d,cryptoProvider:y,payloadString:f,generateHeaderString:P})}return e.signature=r,e}n();var ds="2025-02-24.acacia";var $e={};ko($e,{Account:()=>Mo,AccountLinks:()=>Ja,AccountSessions:()=>Qa,Accounts:()=>Mo,ApplePayDomains:()=>Ya,ApplicationFees:()=>Xa,Apps:()=>Gd,Balance:()=>Za,BalanceTransactions:()=>tl,Billing:()=>Dd,BillingPortal:()=>qd,Charges:()=>rl,Checkout:()=>kd,Climate:()=>Nd,ConfirmationTokens:()=>ol,CountrySpecs:()=>il,Coupons:()=>sl,CreditNotes:()=>al,CustomerSessions:()=>ll,Customers:()=>ul,Disputes:()=>cl,Entitlements:()=>Fd,EphemeralKeys:()=>dl,Events:()=>ml,ExchangeRates:()=>yl,FileLinks:()=>vl,Files:()=>gl,FinancialConnections:()=>Ld,Forwarding:()=>Ud,Identity:()=>Hd,InvoiceItems:()=>Tl,InvoiceRenderingTemplates:()=>Sl,Invoices:()=>_l,Issuing:()=>$d,Mandates:()=>El,OAuth:()=>Ol,PaymentIntents:()=>bl,PaymentLinks:()=>wl,PaymentMethodConfigurations:()=>Rl,PaymentMethodDomains:()=>Al,PaymentMethods:()=>Cl,Payouts:()=>Ml,Plans:()=>Il,Prices:()=>Gl,Products:()=>Dl,PromotionCodes:()=>ql,Quotes:()=>kl,Radar:()=>Bd,Refunds:()=>Nl,Reporting:()=>zd,Reviews:()=>Fl,SetupAttempts:()=>Ll,SetupIntents:()=>Ul,ShippingRates:()=>Hl,Sigma:()=>Wd,Sources:()=>$l,SubscriptionItems:()=>Bl,SubscriptionSchedules:()=>zl,Subscriptions:()=>Wl,Tax:()=>jd,TaxCodes:()=>Vl,TaxIds:()=>Kl,TaxRates:()=>Jl,Terminal:()=>Vd,TestHelpers:()=>Kd,Tokens:()=>Yl,Topups:()=>Xl,Transfers:()=>Zl,Treasury:()=>Jd,V2:()=>Qd,WebhookEndpoints:()=>eu});n();n();function ud(t,e){for(let r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let o=r[0].toLowerCase()+r.substring(1),s=new e[r](t);this[o]=s}}function b(t,e){return function(r){return new ud(r,e)}}n();var de=i.method,hs=i.extend({retrieve:de({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:de({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:de({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:de({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:de({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"}),subscribe:de({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/subscribe"}),unsubscribe:de({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/unsubscribe"})});n();var ms=i.method,fs=i.extend({retrieve:ms({method:"GET",fullPath:"/v1/entitlements/active_entitlements/{id}"}),list:ms({method:"GET",fullPath:"/v1/entitlements/active_entitlements",methodType:"list"})});n();var Ge=i.method,ys=i.extend({create:Ge({method:"POST",fullPath:"/v1/billing/alerts"}),retrieve:Ge({method:"GET",fullPath:"/v1/billing/alerts/{id}"}),list:Ge({method:"GET",fullPath:"/v1/billing/alerts",methodType:"list"}),activate:Ge({method:"POST",fullPath:"/v1/billing/alerts/{id}/activate"}),archive:Ge({method:"POST",fullPath:"/v1/billing/alerts/{id}/archive"}),deactivate:Ge({method:"POST",fullPath:"/v1/billing/alerts/{id}/deactivate"})});n();var he=i.method,vs=i.extend({create:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations"}),capture:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/capture"}),expire:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/expire"}),finalizeAmount:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/finalize_amount"}),increment:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/increment"}),respond:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/fraud_challenges/respond"}),reverse:he({method:"POST",fullPath:"/v1/test_helpers/issuing/authorizations/{authorization}/reverse"})});n();var lt=i.method,Ps=i.extend({retrieve:lt({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:lt({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:lt({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:lt({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:lt({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})});n();var To=i.method,gs=i.extend({create:To({method:"POST",fullPath:"/v1/tax/calculations"}),retrieve:To({method:"GET",fullPath:"/v1/tax/calculations/{calculation}"}),listLineItems:To({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})});n();var ir=i.method,Ts=i.extend({create:ir({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:ir({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:ir({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:ir({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})});n();var ut=i.method,Ss=i.extend({deliverCard:ut({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:ut({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:ut({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:ut({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"}),submitCard:ut({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/submit"})});n();var sr=i.method,_s=i.extend({create:sr({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:sr({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:sr({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:sr({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})});n();var ar=i.method,Es=i.extend({create:ar({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:ar({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:ar({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:ar({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})});n();var ct=i.method,xs=i.extend({create:ct({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:ct({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:ct({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:ct({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:ct({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})});n();var cd=i.method,Os=i.extend({create:cd({method:"POST",fullPath:"/v1/test_helpers/confirmation_tokens"})});n();var pd=i.method,bs=i.extend({create:pd({method:"POST",fullPath:"/v1/terminal/connection_tokens"})});n();var dd=i.method,ws=i.extend({retrieve:dd({method:"GET",fullPath:"/v1/billing/credit_balance_summary"})});n();var Rs=i.method,As=i.extend({retrieve:Rs({method:"GET",fullPath:"/v1/billing/credit_balance_transactions/{id}"}),list:Rs({method:"GET",fullPath:"/v1/billing/credit_balance_transactions",methodType:"list"})});n();var De=i.method,Cs=i.extend({create:De({method:"POST",fullPath:"/v1/billing/credit_grants"}),retrieve:De({method:"GET",fullPath:"/v1/billing/credit_grants/{id}"}),update:De({method:"POST",fullPath:"/v1/billing/credit_grants/{id}"}),list:De({method:"GET",fullPath:"/v1/billing/credit_grants",methodType:"list"}),expire:De({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/expire"}),voidGrant:De({method:"POST",fullPath:"/v1/billing/credit_grants/{id}/void"})});n();var So=i.method,Ms=i.extend({create:So({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:So({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:So({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})});n();var hd=i.method,Is=i.extend({fundCashBalance:hd({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})});n();var _o=i.method,Gs=i.extend({create:_o({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:_o({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:_o({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})});n();var pt=i.method,Ds=i.extend({create:pt({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:pt({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:pt({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:pt({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:pt({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})});n();var qs=i.method,ks=i.extend({retrieve:qs({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:qs({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})});n();var oe=i.method,Ns=i.extend({create:oe({method:"POST",fullPath:"/v2/core/event_destinations"}),retrieve:oe({method:"GET",fullPath:"/v2/core/event_destinations/{id}"}),update:oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}"}),list:oe({method:"GET",fullPath:"/v2/core/event_destinations",methodType:"list"}),del:oe({method:"DELETE",fullPath:"/v2/core/event_destinations/{id}"}),disable:oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}/disable"}),enable:oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}/enable"}),ping:oe({method:"POST",fullPath:"/v2/core/event_destinations/{id}/ping"})});n();var Eo=i.method,Fs=i.extend({retrieve(...t){return Eo({method:"GET",fullPath:"/v2/core/events/{id}",transformResponseData:r=>this.addFetchRelatedObjectIfNeeded(r)}).apply(this,t)},list(...t){return Eo({method:"GET",fullPath:"/v2/core/events",methodType:"list",transformResponseData:r=>Object.assign(Object.assign({},r),{data:r.data.map(this.addFetchRelatedObjectIfNeeded.bind(this))})}).apply(this,t)},addFetchRelatedObjectIfNeeded(t){return!t.related_object||!t.related_object.url?t:Object.assign(Object.assign({},t),{fetchRelatedObject:()=>Eo({method:"GET",fullPath:t.related_object.url}).apply(this,[{stripeAccount:t.context}])})}});n();var lr=i.method,Ls=i.extend({create:lr({method:"POST",fullPath:"/v1/entitlements/features"}),retrieve:lr({method:"GET",fullPath:"/v1/entitlements/features/{id}"}),update:lr({method:"POST",fullPath:"/v1/entitlements/features/{id}"}),list:lr({method:"GET",fullPath:"/v1/entitlements/features",methodType:"list"})});n();var me=i.method,Us=i.extend({create:me({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:me({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:me({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:me({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),close:me({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/close"}),retrieveFeatures:me({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:me({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})});n();var xo=i.method,Hs=i.extend({fail:xo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:xo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:xo({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})});n();var ur=i.method,$s=i.extend({create:ur({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:ur({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:ur({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:ur({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})});n();var dt=i.method,Bs=i.extend({create:dt({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:dt({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:dt({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:dt({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:dt({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})});n();var md=i.method,zs=i.extend({create:md({method:"POST",fullPath:"/v1/billing/meter_event_adjustments"})});n();var fd=i.method,Ws=i.extend({create:fd({method:"POST",fullPath:"/v2/billing/meter_event_adjustments"})});n();var yd=i.method,js=i.extend({create:yd({method:"POST",fullPath:"/v2/billing/meter_event_session"})});n();var vd=i.method,Vs=i.extend({create:vd({method:"POST",fullPath:"/v2/billing/meter_event_stream",host:"meter-events.stripe.com"})});n();var Pd=i.method,Ks=i.extend({create:Pd({method:"POST",fullPath:"/v1/billing/meter_events"})});n();var gd=i.method,Js=i.extend({create:gd({method:"POST",fullPath:"/v2/billing/meter_events"})});n();var fe=i.method,Qs=i.extend({create:fe({method:"POST",fullPath:"/v1/billing/meters"}),retrieve:fe({method:"GET",fullPath:"/v1/billing/meters/{id}"}),update:fe({method:"POST",fullPath:"/v1/billing/meters/{id}"}),list:fe({method:"GET",fullPath:"/v1/billing/meters",methodType:"list"}),deactivate:fe({method:"POST",fullPath:"/v1/billing/meters/{id}/deactivate"}),listEventSummaries:fe({method:"GET",fullPath:"/v1/billing/meters/{id}/event_summaries",methodType:"list"}),reactivate:fe({method:"POST",fullPath:"/v1/billing/meters/{id}/reactivate"})});n();var ht=i.method,Ys=i.extend({create:ht({method:"POST",fullPath:"/v1/climate/orders"}),retrieve:ht({method:"GET",fullPath:"/v1/climate/orders/{order}"}),update:ht({method:"POST",fullPath:"/v1/climate/orders/{order}"}),list:ht({method:"GET",fullPath:"/v1/climate/orders",methodType:"list"}),cancel:ht({method:"POST",fullPath:"/v1/climate/orders/{order}/cancel"})});n();var cr=i.method,Xs=i.extend({update:cr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}"}),fail:cr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:cr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:cr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})});n();var pr=i.method,Zs=i.extend({create:pr({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:pr({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:pr({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:pr({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})});n();var dr=i.method,ea=i.extend({update:dr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}"}),fail:dr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:dr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:dr({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})});n();var hr=i.method,ta=i.extend({create:hr({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:hr({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:hr({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:hr({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})});n();var Oo=i.method,ra=i.extend({activate:Oo({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/activate"}),deactivate:Oo({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/deactivate"}),reject:Oo({method:"POST",fullPath:"/v1/test_helpers/issuing/personalization_designs/{personalization_design}/reject"})});n();var mr=i.method,oa=i.extend({create:mr({method:"POST",fullPath:"/v1/issuing/personalization_designs"}),retrieve:mr({method:"GET",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),update:mr({method:"POST",fullPath:"/v1/issuing/personalization_designs/{personalization_design}"}),list:mr({method:"GET",fullPath:"/v1/issuing/personalization_designs",methodType:"list"})});n();var na=i.method,ia=i.extend({retrieve:na({method:"GET",fullPath:"/v1/issuing/physical_bundles/{physical_bundle}"}),list:na({method:"GET",fullPath:"/v1/issuing/physical_bundles",methodType:"list"})});n();var sa=i.method,aa=i.extend({retrieve:sa({method:"GET",fullPath:"/v1/climate/products/{product}"}),list:sa({method:"GET",fullPath:"/v1/climate/products",methodType:"list"})});n();var Td=i.method,la=i.extend({presentPaymentMethod:Td({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})});n();var W=i.method,ua=i.extend({create:W({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:W({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:W({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:W({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:W({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})});n();var Sd=i.method,ca=i.extend({create:Sd({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})});n();var pa=i.method,da=i.extend({retrieve:pa({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:pa({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})});n();var _d=i.method,ha=i.extend({create:_d({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})});n();var ma=i.method,fa=i.extend({retrieve:ma({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:ma({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})});n();var Ed=i.method,ya=i.extend({expire:Ed({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})});n();var fr=i.method,va=i.extend({create:fr({method:"POST",fullPath:"/v1/tax/registrations"}),retrieve:fr({method:"GET",fullPath:"/v1/tax/registrations/{id}"}),update:fr({method:"POST",fullPath:"/v1/tax/registrations/{id}"}),list:fr({method:"GET",fullPath:"/v1/tax/registrations",methodType:"list"})});n();var bo=i.method,Pa=i.extend({create:bo({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:bo({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:bo({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})});n();var ga=i.method,Ta=i.extend({retrieve:ga({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:ga({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})});n();var wo=i.method,Sa=i.extend({create:wo({method:"POST",fullPath:"/v1/forwarding/requests"}),retrieve:wo({method:"GET",fullPath:"/v1/forwarding/requests/{id}"}),list:wo({method:"GET",fullPath:"/v1/forwarding/requests",methodType:"list"})});n();var _a=i.method,Ea=i.extend({retrieve:_a({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:_a({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})});n();var yr=i.method,xa=i.extend({create:yr({method:"POST",fullPath:"/v1/apps/secrets"}),list:yr({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:yr({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:yr({method:"GET",fullPath:"/v1/apps/secrets/find"})});n();var xd=i.method,Oa=i.extend({create:xd({method:"POST",fullPath:"/v1/billing_portal/sessions"})});n();var qe=i.method,ba=i.extend({create:qe({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:qe({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),update:qe({method:"POST",fullPath:"/v1/checkout/sessions/{session}"}),list:qe({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:qe({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:qe({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})});n();var wa=i.method,Ra=i.extend({create:wa({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:wa({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})});n();var Aa=i.method,Ca=i.extend({retrieve:Aa({method:"GET",fullPath:"/v1/tax/settings"}),update:Aa({method:"POST",fullPath:"/v1/tax/settings"})});n();var Ma=i.method,Ia=i.extend({retrieve:Ma({method:"GET",fullPath:"/v1/climate/suppliers/{supplier}"}),list:Ma({method:"GET",fullPath:"/v1/climate/suppliers",methodType:"list"})});n();var mt=i.method,Ga=i.extend({create:mt({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:mt({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:mt({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:mt({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:mt({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})});n();var Ro=i.method,Da=i.extend({retrieve:Ro({method:"GET",fullPath:"/v1/issuing/tokens/{token}"}),update:Ro({method:"POST",fullPath:"/v1/issuing/tokens/{token}"}),list:Ro({method:"GET",fullPath:"/v1/issuing/tokens",methodType:"list"})});n();var qa=i.method,ka=i.extend({retrieve:qa({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:qa({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})});n();var Ao=i.method,Na=i.extend({createForceCapture:Ao({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_force_capture"}),createUnlinkedRefund:Ao({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/create_unlinked_refund"}),refund:Ao({method:"POST",fullPath:"/v1/test_helpers/issuing/transactions/{transaction}/refund"})});n();var Fa=i.method,La=i.extend({retrieve:Fa({method:"GET",fullPath:"/v1/financial_connections/transactions/{transaction}"}),list:Fa({method:"GET",fullPath:"/v1/financial_connections/transactions",methodType:"list"})});n();var Co=i.method,Ua=i.extend({retrieve:Co({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:Co({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:Co({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})});n();var vr=i.method,Ha=i.extend({retrieve:vr({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:vr({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:vr({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:vr({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})});n();var $a=i.method,Ba=i.extend({retrieve:$a({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:$a({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})});n();var Pr=i.method,za=i.extend({create:Pr({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:Pr({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:Pr({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:Pr({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})});n();var ft=i.method,Wa=i.extend({create:ft({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:ft({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:ft({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:ft({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:ft({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})});n();var ja=i.method,Va=i.extend({retrieve:ja({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:ja({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})});n();var ke=i.method,Ka=i.extend({create:ke({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:ke({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:ke({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:ke({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:ke({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:ke({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})});n();var A=i.method,Mo=i.extend({create:A({method:"POST",fullPath:"/v1/accounts"}),retrieve(t,...e){return typeof t=="string"?A({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[t,...e]):(t==null&&[].shift.apply([t,...e]),A({method:"GET",fullPath:"/v1/account"}).apply(this,[t,...e]))},update:A({method:"POST",fullPath:"/v1/accounts/{account}"}),list:A({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:A({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:A({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:A({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:A({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:A({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:A({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:A({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:A({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:A({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:A({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCurrent:A({method:"GET",fullPath:"/v1/account"}),retrieveCapability:A({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:A({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:A({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:A({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:A({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:A({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})});n();var Od=i.method,Ja=i.extend({create:Od({method:"POST",fullPath:"/v1/account_links"})});n();var bd=i.method,Qa=i.extend({create:bd({method:"POST",fullPath:"/v1/account_sessions"})});n();var gr=i.method,Ya=i.extend({create:gr({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:gr({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:gr({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:gr({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})});n();var Ne=i.method,Xa=i.extend({retrieve:Ne({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:Ne({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:Ne({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:Ne({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:Ne({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:Ne({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})});n();var wd=i.method,Za=i.extend({retrieve:wd({method:"GET",fullPath:"/v1/balance"})});n();var el=i.method,tl=i.extend({retrieve:el({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:el({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})});n();var Fe=i.method,rl=i.extend({create:Fe({method:"POST",fullPath:"/v1/charges"}),retrieve:Fe({method:"GET",fullPath:"/v1/charges/{charge}"}),update:Fe({method:"POST",fullPath:"/v1/charges/{charge}"}),list:Fe({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:Fe({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:Fe({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})});n();var Rd=i.method,ol=i.extend({retrieve:Rd({method:"GET",fullPath:"/v1/confirmation_tokens/{confirmation_token}"})});n();var nl=i.method,il=i.extend({retrieve:nl({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:nl({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})});n();var yt=i.method,sl=i.extend({create:yt({method:"POST",fullPath:"/v1/coupons"}),retrieve:yt({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:yt({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:yt({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:yt({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})});n();var ne=i.method,al=i.extend({create:ne({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:ne({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:ne({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:ne({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:ne({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:ne({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:ne({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:ne({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})});n();var Ad=i.method,ll=i.extend({create:Ad({method:"POST",fullPath:"/v1/customer_sessions"})});n();var x=i.method,ul=i.extend({create:x({method:"POST",fullPath:"/v1/customers"}),retrieve:x({method:"GET",fullPath:"/v1/customers/{customer}"}),update:x({method:"POST",fullPath:"/v1/customers/{customer}"}),list:x({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:x({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createBalanceTransaction:x({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createFundingInstructions:x({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createSource:x({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:x({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:x({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:x({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:x({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listBalanceTransactions:x({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:x({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listPaymentMethods:x({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listSources:x({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:x({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrieveBalanceTransaction:x({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:x({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:x({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrievePaymentMethod:x({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveSource:x({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:x({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:x({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:x({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:x({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:x({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:x({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})});n();var Tr=i.method,cl=i.extend({retrieve:Tr({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:Tr({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:Tr({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:Tr({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})});n();var pl=i.method,dl=i.extend({create:pl({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:pl({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})});n();var hl=i.method,ml=i.extend({retrieve:hl({method:"GET",fullPath:"/v1/events/{id}"}),list:hl({method:"GET",fullPath:"/v1/events",methodType:"list"})});n();var fl=i.method,yl=i.extend({retrieve:fl({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:fl({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})});n();var Sr=i.method,vl=i.extend({create:Sr({method:"POST",fullPath:"/v1/file_links"}),retrieve:Sr({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Sr({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Sr({method:"GET",fullPath:"/v1/file_links",methodType:"list"})});n();n();var Cd=(t,e,r)=>{let o=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();r["Content-Type"]=`multipart/form-data; boundary=${o}`;let s=new TextEncoder,a=new Uint8Array(0),l=s.encode(`\r
`);function p(u){let h=a,d=u instanceof Uint8Array?u:new Uint8Array(s.encode(u));a=new Uint8Array(h.length+d.length+2),a.set(h),a.set(d,h.length),a.set(l,a.length-2)}function c(u){return`"${u.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}let m=ns(e);for(let u in m){if(!Object.prototype.hasOwnProperty.call(m,u))continue;let h=m[u];if(p(`--${o}`),Object.prototype.hasOwnProperty.call(h,"data")){let d=h;p(`Content-Disposition: form-data; name=${c(u)}; filename=${c(d.name||"blob")}`),p(`Content-Type: ${d.type||"application/octet-stream"}`),p(""),p(d.data)}else p(`Content-Disposition: form-data; name=${c(u)}`),p(""),p(h)}return p(`--${o}--`),a};function Pl(t,e,r,o){if(e=e||{},t!=="POST")return o(null,re(e));this._stripe._platformFunctions.tryBufferData(e).then(s=>{let a=Cd(t,s,r);return o(null,a)}).catch(s=>o(s,null))}var Io=i.method,gl=i.extend({create:Io({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:Io({method:"GET",fullPath:"/v1/files/{file}"}),list:Io({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:Pl});n();var vt=i.method,Tl=i.extend({create:vt({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:vt({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:vt({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:vt({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:vt({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})});n();var _r=i.method,Sl=i.extend({retrieve:_r({method:"GET",fullPath:"/v1/invoice_rendering_templates/{template}"}),list:_r({method:"GET",fullPath:"/v1/invoice_rendering_templates",methodType:"list"}),archive:_r({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/archive"}),unarchive:_r({method:"POST",fullPath:"/v1/invoice_rendering_templates/{template}/unarchive"})});n();var I=i.method,_l=i.extend({create:I({method:"POST",fullPath:"/v1/invoices"}),retrieve:I({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:I({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:I({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:I({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),addLines:I({method:"POST",fullPath:"/v1/invoices/{invoice}/add_lines"}),createPreview:I({method:"POST",fullPath:"/v1/invoices/create_preview"}),finalizeInvoice:I({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:I({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),listUpcomingLines:I({method:"GET",fullPath:"/v1/invoices/upcoming/lines",methodType:"list"}),markUncollectible:I({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:I({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),removeLines:I({method:"POST",fullPath:"/v1/invoices/{invoice}/remove_lines"}),retrieveUpcoming:I({method:"GET",fullPath:"/v1/invoices/upcoming"}),search:I({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:I({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),updateLines:I({method:"POST",fullPath:"/v1/invoices/{invoice}/update_lines"}),updateLineItem:I({method:"POST",fullPath:"/v1/invoices/{invoice}/lines/{line_item_id}"}),voidInvoice:I({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})});n();var Md=i.method,El=i.extend({retrieve:Md({method:"GET",fullPath:"/v1/mandates/{mandate}"})});n();var xl=i.method,Go="connect.stripe.com",Ol=i.extend({basePath:"/",authorizeUrl(t,e){t=t||{},e=e||{};let r="oauth/authorize";return e.express&&(r=`express/${r}`),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${Go}/${r}?${re(t)}`},token:xl({method:"POST",path:"oauth/token",host:Go}),deauthorize(t,...e){return t.client_id||(t.client_id=this._stripe.getClientId()),xl({method:"POST",path:"oauth/deauthorize",host:Go}).apply(this,[t,...e])}});n();var H=i.method,bl=i.extend({create:H({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:H({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:H({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:H({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:H({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:H({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:H({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:H({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:H({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:H({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:H({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})});n();var Pt=i.method,wl=i.extend({create:Pt({method:"POST",fullPath:"/v1/payment_links"}),retrieve:Pt({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:Pt({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:Pt({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:Pt({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})});n();var Er=i.method,Rl=i.extend({create:Er({method:"POST",fullPath:"/v1/payment_method_configurations"}),retrieve:Er({method:"GET",fullPath:"/v1/payment_method_configurations/{configuration}"}),update:Er({method:"POST",fullPath:"/v1/payment_method_configurations/{configuration}"}),list:Er({method:"GET",fullPath:"/v1/payment_method_configurations",methodType:"list"})});n();var gt=i.method,Al=i.extend({create:gt({method:"POST",fullPath:"/v1/payment_method_domains"}),retrieve:gt({method:"GET",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),update:gt({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}"}),list:gt({method:"GET",fullPath:"/v1/payment_method_domains",methodType:"list"}),validate:gt({method:"POST",fullPath:"/v1/payment_method_domains/{payment_method_domain}/validate"})});n();var Le=i.method,Cl=i.extend({create:Le({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:Le({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:Le({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:Le({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:Le({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:Le({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})});n();var Ue=i.method,Ml=i.extend({create:Ue({method:"POST",fullPath:"/v1/payouts"}),retrieve:Ue({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Ue({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Ue({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Ue({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Ue({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})});n();var Tt=i.method,Il=i.extend({create:Tt({method:"POST",fullPath:"/v1/plans"}),retrieve:Tt({method:"GET",fullPath:"/v1/plans/{plan}"}),update:Tt({method:"POST",fullPath:"/v1/plans/{plan}"}),list:Tt({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:Tt({method:"DELETE",fullPath:"/v1/plans/{plan}"})});n();var St=i.method,Gl=i.extend({create:St({method:"POST",fullPath:"/v1/prices"}),retrieve:St({method:"GET",fullPath:"/v1/prices/{price}"}),update:St({method:"POST",fullPath:"/v1/prices/{price}"}),list:St({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:St({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})});n();var j=i.method,Dl=i.extend({create:j({method:"POST",fullPath:"/v1/products"}),retrieve:j({method:"GET",fullPath:"/v1/products/{id}"}),update:j({method:"POST",fullPath:"/v1/products/{id}"}),list:j({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:j({method:"DELETE",fullPath:"/v1/products/{id}"}),createFeature:j({method:"POST",fullPath:"/v1/products/{product}/features"}),deleteFeature:j({method:"DELETE",fullPath:"/v1/products/{product}/features/{id}"}),listFeatures:j({method:"GET",fullPath:"/v1/products/{product}/features",methodType:"list"}),retrieveFeature:j({method:"GET",fullPath:"/v1/products/{product}/features/{id}"}),search:j({method:"GET",fullPath:"/v1/products/search",methodType:"search"})});n();var xr=i.method,ql=i.extend({create:xr({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:xr({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:xr({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:xr({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})});n();var V=i.method,kl=i.extend({create:V({method:"POST",fullPath:"/v1/quotes"}),retrieve:V({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:V({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:V({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:V({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:V({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:V({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:V({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:V({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:V({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})});n();var _t=i.method,Nl=i.extend({create:_t({method:"POST",fullPath:"/v1/refunds"}),retrieve:_t({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:_t({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:_t({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:_t({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})});n();var Do=i.method,Fl=i.extend({retrieve:Do({method:"GET",fullPath:"/v1/reviews/{review}"}),list:Do({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:Do({method:"POST",fullPath:"/v1/reviews/{review}/approve"})});n();var Id=i.method,Ll=i.extend({list:Id({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})});n();var ye=i.method,Ul=i.extend({create:ye({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:ye({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:ye({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:ye({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:ye({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:ye({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:ye({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})});n();var Or=i.method,Hl=i.extend({create:Or({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:Or({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:Or({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:Or({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})});n();var Et=i.method,$l=i.extend({create:Et({method:"POST",fullPath:"/v1/sources"}),retrieve:Et({method:"GET",fullPath:"/v1/sources/{source}"}),update:Et({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:Et({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:Et({method:"POST",fullPath:"/v1/sources/{source}/verify"})});n();var ve=i.method,Bl=i.extend({create:ve({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:ve({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:ve({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:ve({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:ve({method:"DELETE",fullPath:"/v1/subscription_items/{item}"}),createUsageRecord:ve({method:"POST",fullPath:"/v1/subscription_items/{subscription_item}/usage_records"}),listUsageRecordSummaries:ve({method:"GET",fullPath:"/v1/subscription_items/{subscription_item}/usage_record_summaries",methodType:"list"})});n();var He=i.method,zl=i.extend({create:He({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:He({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:He({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:He({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:He({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:He({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})});n();var ie=i.method,Wl=i.extend({create:ie({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:ie({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:ie({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:ie({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:ie({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:ie({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:ie({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:ie({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})});n();var jl=i.method,Vl=i.extend({retrieve:jl({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:jl({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})});n();var br=i.method,Kl=i.extend({create:br({method:"POST",fullPath:"/v1/tax_ids"}),retrieve:br({method:"GET",fullPath:"/v1/tax_ids/{id}"}),list:br({method:"GET",fullPath:"/v1/tax_ids",methodType:"list"}),del:br({method:"DELETE",fullPath:"/v1/tax_ids/{id}"})});n();var wr=i.method,Jl=i.extend({create:wr({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:wr({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:wr({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:wr({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})});n();var Ql=i.method,Yl=i.extend({create:Ql({method:"POST",fullPath:"/v1/tokens"}),retrieve:Ql({method:"GET",fullPath:"/v1/tokens/{token}"})});n();var xt=i.method,Xl=i.extend({create:xt({method:"POST",fullPath:"/v1/topups"}),retrieve:xt({method:"GET",fullPath:"/v1/topups/{topup}"}),update:xt({method:"POST",fullPath:"/v1/topups/{topup}"}),list:xt({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:xt({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})});n();var se=i.method,Zl=i.extend({create:se({method:"POST",fullPath:"/v1/transfers"}),retrieve:se({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:se({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:se({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:se({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:se({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:se({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:se({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})});n();var Ot=i.method,eu=i.extend({create:Ot({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:Ot({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:Ot({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:Ot({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:Ot({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})});var Gd=b("apps",{Secrets:xa}),Dd=b("billing",{Alerts:ys,CreditBalanceSummary:ws,CreditBalanceTransactions:As,CreditGrants:Cs,MeterEventAdjustments:zs,MeterEvents:Ks,Meters:Qs}),qd=b("billingPortal",{Configurations:Es,Sessions:Oa}),kd=b("checkout",{Sessions:ba}),Nd=b("climate",{Orders:Ys,Products:aa,Suppliers:Ia}),Fd=b("entitlements",{ActiveEntitlements:fs,Features:Ls}),Ld=b("financialConnections",{Accounts:hs,Sessions:Ra,Transactions:La}),Ud=b("forwarding",{Requests:Sa}),Hd=b("identity",{VerificationReports:Va,VerificationSessions:Ka}),$d=b("issuing",{Authorizations:Ps,Cardholders:Ts,Cards:_s,Disputes:Ds,PersonalizationDesigns:oa,PhysicalBundles:ia,Tokens:Da,Transactions:Ua}),Bd=b("radar",{EarlyFraudWarnings:ks,ValueListItems:za,ValueLists:Wa}),zd=b("reporting",{ReportRuns:Pa,ReportTypes:Ta}),Wd=b("sigma",{ScheduledQueryRuns:Ea}),jd=b("tax",{Calculations:gs,Registrations:va,Settings:Ca,Transactions:Ha}),Vd=b("terminal",{Configurations:xs,ConnectionTokens:bs,Locations:Bs,Readers:ua}),Kd=b("testHelpers",{ConfirmationTokens:Os,Customers:Is,Refunds:ya,TestClocks:Ga,Issuing:b("issuing",{Authorizations:vs,Cards:Ss,PersonalizationDesigns:ra,Transactions:Na}),Terminal:b("terminal",{Readers:la}),Treasury:b("treasury",{InboundTransfers:Hs,OutboundPayments:Xs,OutboundTransfers:ea,ReceivedCredits:ca,ReceivedDebits:ha})}),Jd=b("treasury",{CreditReversals:Ms,DebitReversals:Gs,FinancialAccounts:Us,InboundTransfers:$s,OutboundPayments:Zs,OutboundTransfers:ta,ReceivedCredits:da,ReceivedDebits:fa,TransactionEntries:ka,Transactions:Ba}),Qd=b("v2",{Billing:b("billing",{MeterEventAdjustments:Ws,MeterEventSession:js,MeterEventStream:Vs,MeterEvents:Js}),Core:b("core",{EventDestinations:Ns,Events:Fs})});var tu="api.stripe.com",ru="443",ou="/v1/",nu=ds,iu=8e4,su=5,au=.5,Yd=["name","version","url","partner_id"],lu=["authenticator","apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount","stripeContext"],Xd=t=>new or(t,i.MAX_BUFFERED_REQUEST_METRICS);function uu(t,e=Xd){o.PACKAGE_VERSION="17.7.0",o.USER_AGENT=Object.assign({bindings_version:o.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},is()),o.StripeResource=i,o.resources=$e,o.HttpClient=k,o.HttpClientResponse=Z,o.CryptoProvider=X;function r(s=t){return go(s)}o.webhooks=Object.assign(r,go(t));function o(s,a={}){if(!(this instanceof o))return new o(s,a);let l=this._getPropsFromConfig(a);this._platformFunctions=t,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=o.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter);let p=l.httpAgent||null;this._api={host:l.host||tu,port:l.port||ru,protocol:l.protocol||"https",basePath:ou,version:l.apiVersion||nu,timeout:tr("timeout",l.timeout,iu),maxNetworkRetries:tr("maxNetworkRetries",l.maxNetworkRetries,2),agent:p,httpClient:l.httpClient||(p?this._platformFunctions.createNodeHttpClient(p):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:l.stripeAccount||null,stripeContext:l.stripeContext||null};let c=l.typescript||!1;c!==o.USER_AGENT.typescript&&(o.USER_AGENT.typescript=c),l.appInfo&&this._setAppInfo(l.appInfo),this._prepResources(),this._setAuthenticator(s,l.authenticator),this.errors=kt,this.webhooks=r(),this._prevRequestMetrics=[],this._enableTelemetry=l.telemetry!==!1,this._requestSender=e(this),this.StripeResource=o.StripeResource}return o.errors=kt,o.createNodeHttpClient=t.createNodeHttpClient,o.createFetchHttpClient=t.createFetchHttpClient,o.createNodeCryptoProvider=t.createNodeCryptoProvider,o.createSubtleCryptoProvider=t.createSubtleCryptoProvider,o.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,rawRequest(s,a,l,p){return this._requestSender._rawRequest(s,a,l,p)},_setAuthenticator(s,a){if(s&&a)throw new Error("Can't specify both apiKey and authenticator");if(!s&&!a)throw new Error("Neither apiKey nor config.authenticator provided");this._authenticator=s?Yt(s):a},_setAppInfo(s){if(s&&typeof s!="object")throw new Error("AppInfo must be an object.");if(s&&!s.name)throw new Error("AppInfo.name is required");s=s||{},this._appInfo=Yd.reduce((a,l)=>(typeof s[l]=="string"&&(a=a||{},a[l]=s[l]),a),void 0)},_setApiField(s,a){this._api[s]=a},getApiField(s){return this._api[s]},setClientId(s){this._clientId=s},getClientId(){return this._clientId},getConstant:s=>{switch(s){case"DEFAULT_HOST":return tu;case"DEFAULT_PORT":return ru;case"DEFAULT_BASE_PATH":return ou;case"DEFAULT_API_VERSION":return nu;case"DEFAULT_TIMEOUT":return iu;case"MAX_NETWORK_RETRY_DELAY_SEC":return su;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return au}return o[s]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(s,a,l){let p=tr(s,a,l);this._setApiField(s,p)},getMaxNetworkRetryDelay(){return su},getInitialNetworkRetryDelay(){return au},getClientUserAgent(s){return this.getClientUserAgentSeeded(o.USER_AGENT,s)},getClientUserAgentSeeded(s,a){this._platformFunctions.getUname().then(l=>{var p;let c={};for(let u in s)Object.prototype.hasOwnProperty.call(s,u)&&(c[u]=encodeURIComponent((p=s[u])!==null&&p!==void 0?p:"null"));c.uname=encodeURIComponent(l||"UNKNOWN");let m=this.getApiField("httpClient");m&&(c.httplib=encodeURIComponent(m.getClientName())),this._appInfo&&(c.application=this._appInfo),a(JSON.stringify(c))})},getAppInfoAsString(){if(!this._appInfo)return"";let s=this._appInfo.name;return this._appInfo.version&&(s+=`/${this._appInfo.version}`),this._appInfo.url&&(s+=` (${this._appInfo.url})`),s},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(let s in $e)Object.prototype.hasOwnProperty.call($e,s)&&(this[os(s)]=new $e[s](this))},_getPropsFromConfig(s){if(!s)return{};let a=typeof s=="string";if(!(s===Object(s)&&!Array.isArray(s))&&!a)throw new Error("Config must either be an object or a string");if(a)return{apiVersion:s};if(Object.keys(s).filter(c=>!lu.includes(c)).length>0)throw new Error(`Config object may only contain the following: ${lu.join(", ")}`);return s},parseThinEvent(s,a,l,p,c,m){return this.webhooks.constructEvent(s,a,l,p,c,m)}},o}var Zd=uu(new rr),cu=Zd;var eh=new cu(process.env.STRIPE_SECRET_KEY||"",{apiVersion:"2023-10-16"}),I1=async(t,e)=>{try{let r=t.headers["stripe-signature"],o=process.env.STRIPE_WEBHOOK_SECRET;if(!r||!o)return{statusCode:400,body:JSON.stringify({error:"Missing stripe signature or webhook secret"})};switch(eh.webhooks.constructEvent(t.body,r,o).type){case"checkout.session.completed":break;case"customer.subscription.updated":break;case"customer.subscription.deleted":break}return{statusCode:200,body:JSON.stringify({received:!0})}}catch(r){return console.error("Error:",r),{statusCode:500,body:JSON.stringify({error:"Internal server error"})}}};export{I1 as handler};
//# sourceMappingURL=index.mjs.map
